!function(e){var n={};function B(Q){if(n[Q])return n[Q].exports;var s=n[Q]={i:Q,l:!1,exports:{}};return e[Q].call(s.exports,s,s.exports,B),s.l=!0,s.exports}B.m=e,B.c=n,B.d=function(e,n,Q){B.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:Q})},B.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},B.t=function(e,n){if(1&n&&(e=B(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var Q=Object.create(null);if(B.r(Q),Object.defineProperty(Q,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var s in e)B.d(Q,s,function(n){return e[n]}.bind(null,s));return Q},B.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return B.d(n,"a",n),n},B.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},B.p="build/",B(B.s=12)}([function(module,exports){eval('module.exports = require("express");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCI/MjJmZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')},function(module,exports){eval('module.exports = require("mongoose");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')},function(module,exports){eval('module.exports = require("querymen");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJxdWVyeW1lblwiPzg1MTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInF1ZXJ5bWVuXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n')},function(module,exports){eval('module.exports = require("bodymen");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5bWVuXCI/MWNmZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm9keW1lblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')},function(module,exports){eval('module.exports = require("babel-runtime/helpers/extends");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiPzM2ZDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n')},function(module,exports){eval('module.exports = require("babel-runtime/core-js/object/assign");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2Fzc2lnblwiP2Y3ZTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar success = exports.success = function success(res, status) {\n  return function (entity) {\n    if (entity) {\n      res.status(status || 200).json(entity);\n    }\n    return null;\n  };\n};\n\nvar notFound = exports.notFound = function notFound(res) {\n  return function (entity) {\n    if (entity) {\n      return entity;\n    }\n    res.status(404).end();\n    return null;\n  };\n};\n\nvar authorOrAdmin = exports.authorOrAdmin = function authorOrAdmin(res, user, userField) {\n  return function (entity) {\n    if (entity) {\n      var isAdmin = user.role === 'admin';\n      var isAuthor = entity[userField] && entity[userField].equals(user.id);\n      if (isAuthor || isAdmin) {\n        return entity;\n      }\n      res.status(401).end();\n    }\n    return null;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvcmVzcG9uc2UvaW5kZXguanM/NzA3NyJdLCJuYW1lcyI6WyJzdWNjZXNzIiwicmVzIiwic3RhdHVzIiwiZW50aXR5IiwianNvbiIsIm5vdEZvdW5kIiwiZW5kIiwiYXV0aG9yT3JBZG1pbiIsInVzZXIiLCJ1c2VyRmllbGQiLCJpc0FkbWluIiwicm9sZSIsImlzQXV0aG9yIiwiZXF1YWxzIiwiaWQiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQU8sSUFBTUEsNEJBQVUsU0FBVkEsT0FBVSxDQUFDQyxHQUFELEVBQU1DLE1BQU47QUFBQSxTQUFpQixVQUFDQyxNQUFELEVBQVk7QUFDbEQsUUFBSUEsTUFBSixFQUFZO0FBQ1ZGLFVBQUlDLE1BQUosQ0FBV0EsVUFBVSxHQUFyQixFQUEwQkUsSUFBMUIsQ0FBK0JELE1BQS9CO0FBQ0Q7QUFDRCxXQUFPLElBQVA7QUFDRCxHQUxzQjtBQUFBLENBQWhCOztBQU9BLElBQU1FLDhCQUFXLFNBQVhBLFFBQVcsQ0FBQ0osR0FBRDtBQUFBLFNBQVMsVUFBQ0UsTUFBRCxFQUFZO0FBQzNDLFFBQUlBLE1BQUosRUFBWTtBQUNWLGFBQU9BLE1BQVA7QUFDRDtBQUNERixRQUFJQyxNQUFKLENBQVcsR0FBWCxFQUFnQkksR0FBaEI7QUFDQSxXQUFPLElBQVA7QUFDRCxHQU51QjtBQUFBLENBQWpCOztBQVFBLElBQU1DLHdDQUFnQixTQUFoQkEsYUFBZ0IsQ0FBQ04sR0FBRCxFQUFNTyxJQUFOLEVBQVlDLFNBQVo7QUFBQSxTQUEwQixVQUFDTixNQUFELEVBQVk7QUFDakUsUUFBSUEsTUFBSixFQUFZO0FBQ1YsVUFBTU8sVUFBVUYsS0FBS0csSUFBTCxLQUFjLE9BQTlCO0FBQ0EsVUFBTUMsV0FBV1QsT0FBT00sU0FBUCxLQUFxQk4sT0FBT00sU0FBUCxFQUFrQkksTUFBbEIsQ0FBeUJMLEtBQUtNLEVBQTlCLENBQXRDO0FBQ0EsVUFBSUYsWUFBWUYsT0FBaEIsRUFBeUI7QUFDdkIsZUFBT1AsTUFBUDtBQUNEO0FBQ0RGLFVBQUlDLE1BQUosQ0FBVyxHQUFYLEVBQWdCSSxHQUFoQjtBQUNEO0FBQ0QsV0FBTyxJQUFQO0FBQ0QsR0FWNEI7QUFBQSxDQUF0QiIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHN1Y2Nlc3MgPSAocmVzLCBzdGF0dXMpID0+IChlbnRpdHkpID0+IHtcbiAgaWYgKGVudGl0eSkge1xuICAgIHJlcy5zdGF0dXMoc3RhdHVzIHx8IDIwMCkuanNvbihlbnRpdHkpXG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IGNvbnN0IG5vdEZvdW5kID0gKHJlcykgPT4gKGVudGl0eSkgPT4ge1xuICBpZiAoZW50aXR5KSB7XG4gICAgcmV0dXJuIGVudGl0eVxuICB9XG4gIHJlcy5zdGF0dXMoNDA0KS5lbmQoKVxuICByZXR1cm4gbnVsbFxufVxuXG5leHBvcnQgY29uc3QgYXV0aG9yT3JBZG1pbiA9IChyZXMsIHVzZXIsIHVzZXJGaWVsZCkgPT4gKGVudGl0eSkgPT4ge1xuICBpZiAoZW50aXR5KSB7XG4gICAgY29uc3QgaXNBZG1pbiA9IHVzZXIucm9sZSA9PT0gJ2FkbWluJ1xuICAgIGNvbnN0IGlzQXV0aG9yID0gZW50aXR5W3VzZXJGaWVsZF0gJiYgZW50aXR5W3VzZXJGaWVsZF0uZXF1YWxzKHVzZXIuaWQpXG4gICAgaWYgKGlzQXV0aG9yIHx8IGlzQWRtaW4pIHtcbiAgICAgIHJldHVybiBlbnRpdHlcbiAgICB9XG4gICAgcmVzLnN0YXR1cyg0MDEpLmVuZCgpXG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(__dirname) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _path = __webpack_require__(20);\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _merge = __webpack_require__(21);\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* istanbul ignore next */\n/* eslint-disable no-unused-vars */\nvar requireProcessEnv = function requireProcessEnv(name) {\n  if (!process.env[name]) {\n    throw new Error('You must set the ' + name + ' environment variable');\n  }\n  return process.env[name];\n};\n\n/* istanbul ignore next */\nif (false) { var dotenv; }\n\nvar config = {\n  all: {\n    env: \"production\" || false,\n    root: _path2.default.join(__dirname, '..'),\n    port: process.env.PORT || 9000,\n    ip: process.env.IP || '0.0.0.0',\n    apiRoot: \"/api\" || false,\n    // masterKey: requireProcessEnv('MASTER_KEY'),\n    mongo: {\n      options: {\n        db: {\n          safe: true\n        }\n      }\n    }\n  },\n  test: {},\n  development: {\n    mongo: {\n      uri: 'mongodb://localhost/news-api-dev',\n      options: {\n        debug: true\n      }\n    }\n  },\n  production: {\n    ip: process.env.IP || undefined,\n    port: process.env.PORT || 8080,\n    mongo: {\n      uri: process.env.MONGODB_URI || 'mongodb://localhost/news-api'\n    }\n  }\n};\n\nmodule.exports = (0, _merge2.default)(config.all, config[config.all.env]);\nexports.default = module.exports;\n/* WEBPACK VAR INJECTION */}.call(this, \"/\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnLmpzP2RiNDkiXSwibmFtZXMiOlsicmVxdWlyZVByb2Nlc3NFbnYiLCJuYW1lIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY29uZmlnIiwiYWxsIiwicm9vdCIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwicG9ydCIsIlBPUlQiLCJpcCIsIklQIiwiYXBpUm9vdCIsIm1vbmdvIiwib3B0aW9ucyIsImRiIiwic2FmZSIsInRlc3QiLCJkZXZlbG9wbWVudCIsInVyaSIsImRlYnVnIiwicHJvZHVjdGlvbiIsInVuZGVmaW5lZCIsIk1PTkdPREJfVVJJIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUE7QUFKQTtBQUtBLElBQU1BLG9CQUFvQixTQUFwQkEsaUJBQW9CLENBQUNDLElBQUQsRUFBVTtBQUNsQyxNQUFJLENBQUNDLFFBQVFDLEdBQVIsQ0FBWUYsSUFBWixDQUFMLEVBQXdCO0FBQ3RCLFVBQU0sSUFBSUcsS0FBSixDQUFVLHNCQUFzQkgsSUFBdEIsR0FBNkIsdUJBQXZDLENBQU47QUFDRDtBQUNELFNBQU9DLFFBQVFDLEdBQVIsQ0FBWUYsSUFBWixDQUFQO0FBQ0QsQ0FMRDs7QUFPQTtBQUNBLElBQUlDLEtBQUosRUFBMkMsZUFNMUM7O0FBRUQsSUFBTUcsU0FBUztBQUNiQyxPQUFLO0FBQ0hILFNBQUtELFlBQUEsSUFBd0IsS0FEMUI7QUFFSEssVUFBTUMsZUFBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLElBQXJCLENBRkg7QUFHSEMsVUFBTVQsUUFBUUMsR0FBUixDQUFZUyxJQUFaLElBQW9CLElBSHZCO0FBSUhDLFFBQUlYLFFBQVFDLEdBQVIsQ0FBWVcsRUFBWixJQUFrQixTQUpuQjtBQUtIQyxhQUFTYixNQUFBLElBQXdCLEtBTDlCO0FBTUg7QUFDQWMsV0FBTztBQUNMQyxlQUFTO0FBQ1BDLFlBQUk7QUFDRkMsZ0JBQU07QUFESjtBQURHO0FBREo7QUFQSixHQURRO0FBZ0JiQyxRQUFNLEVBaEJPO0FBaUJiQyxlQUFhO0FBQ1hMLFdBQU87QUFDTE0sV0FBSyxrQ0FEQTtBQUVMTCxlQUFTO0FBQ1BNLGVBQU87QUFEQTtBQUZKO0FBREksR0FqQkE7QUF5QmJDLGNBQVk7QUFDVlgsUUFBSVgsUUFBUUMsR0FBUixDQUFZVyxFQUFaLElBQWtCVyxTQURaO0FBRVZkLFVBQU1ULFFBQVFDLEdBQVIsQ0FBWVMsSUFBWixJQUFvQixJQUZoQjtBQUdWSSxXQUFPO0FBQ0xNLFdBQUtwQixRQUFRQyxHQUFSLENBQVl1QixXQUFaLElBQTJCO0FBRDNCO0FBSEc7QUF6QkMsQ0FBZjs7QUFrQ0FDLE9BQU9DLE9BQVAsR0FBaUIscUJBQU12QixPQUFPQyxHQUFiLEVBQWtCRCxPQUFPQSxPQUFPQyxHQUFQLENBQVdILEdBQWxCLENBQWxCLENBQWpCO2tCQUNld0IsT0FBT0MsTyIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5pbXBvcnQgbWVyZ2UgZnJvbSAnbG9kYXNoL21lcmdlJ1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuY29uc3QgcmVxdWlyZVByb2Nlc3NFbnYgPSAobmFtZSkgPT4ge1xuICBpZiAoIXByb2Nlc3MuZW52W25hbWVdKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBzZXQgdGhlICcgKyBuYW1lICsgJyBlbnZpcm9ubWVudCB2YXJpYWJsZScpXG4gIH1cbiAgcmV0dXJuIHByb2Nlc3MuZW52W25hbWVdXG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBjb25zdCBkb3RlbnYgPSByZXF1aXJlKCdkb3RlbnYtc2FmZScpXG4gIGRvdGVudi5sb2FkKHtcbiAgICBwYXRoOiBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vLmVudicpLFxuICAgIHNhbXBsZTogcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uLy5lbnYuZXhhbXBsZScpXG4gIH0pXG59XG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgYWxsOiB7XG4gICAgZW52OiBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnLFxuICAgIHJvb3Q6IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLicpLFxuICAgIHBvcnQ6IHByb2Nlc3MuZW52LlBPUlQgfHwgOTAwMCxcbiAgICBpcDogcHJvY2Vzcy5lbnYuSVAgfHwgJzAuMC4wLjAnLFxuICAgIGFwaVJvb3Q6IHByb2Nlc3MuZW52LkFQSV9ST09UIHx8ICcnLFxuICAgIC8vIG1hc3RlcktleTogcmVxdWlyZVByb2Nlc3NFbnYoJ01BU1RFUl9LRVknKSxcbiAgICBtb25nbzoge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICBkYjoge1xuICAgICAgICAgIHNhZmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgdGVzdDogeyB9LFxuICBkZXZlbG9wbWVudDoge1xuICAgIG1vbmdvOiB7XG4gICAgICB1cmk6ICdtb25nb2RiOi8vbG9jYWxob3N0L25ld3MtYXBpLWRldicsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGRlYnVnOiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBwcm9kdWN0aW9uOiB7XG4gICAgaXA6IHByb2Nlc3MuZW52LklQIHx8IHVuZGVmaW5lZCxcbiAgICBwb3J0OiBwcm9jZXNzLmVudi5QT1JUIHx8IDgwODAsXG4gICAgbW9uZ286IHtcbiAgICAgIHVyaTogcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgfHwgJ21vbmdvZGI6Ly9sb2NhbGhvc3QvbmV3cy1hcGknXG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVyZ2UoY29uZmlnLmFsbCwgY29uZmlnW2NvbmZpZy5hbGwuZW52XSlcbmV4cG9ydCBkZWZhdWx0IG1vZHVsZS5leHBvcnRzXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.schema = exports.Category = undefined;\n\nvar _model = __webpack_require__(33);\n\nObject.defineProperty(exports, 'schema', {\n  enumerable: true,\n  get: function get() {\n    return _model.schema;\n  }\n});\n\nvar _express = __webpack_require__(0);\n\nvar _querymen = __webpack_require__(2);\n\nvar _bodymen = __webpack_require__(3);\n\nvar _controller = __webpack_require__(34);\n\nvar _model2 = _interopRequireDefault(_model);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Category = _model2.default;\n\n\nvar router = new _express.Router();\nvar name = _model.schema.tree.name;\n\n/**\n * @api {post} /categories Create category\n * @apiName CreateCategory\n * @apiGroup Category\n * @apiParam name Category's name.\n * @apiSuccess {Object} category Category's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Category not found.\n */\n\nrouter.post('/', (0, _bodymen.middleware)({ name: name }), _controller.create);\n\n/**\n * @api {get} /categories Retrieve categories\n * @apiName RetrieveCategories\n * @apiGroup Category\n * @apiUse listParams\n * @apiSuccess {Number} count Total amount of categories.\n * @apiSuccess {Object[]} rows List of categories.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get('/', (0, _querymen.middleware)(), _controller.index);\n\n/**\n * @api {get} /categories/:id Retrieve category\n * @apiName RetrieveCategory\n * @apiGroup Category\n * @apiSuccess {Object} category Category's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Category not found.\n */\nrouter.get('/:id', _controller.show);\n\n/**\n * @api {put} /categories/:id Update category\n * @apiName UpdateCategory\n * @apiGroup Category\n * @apiParam name Category's name.\n * @apiSuccess {Object} category Category's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Category not found.\n */\nrouter.put('/:id', (0, _bodymen.middleware)({ name: name }), _controller.update);\n\n/**\n * @api {delete} /categories/:id Delete category\n * @apiName DeleteCategory\n * @apiGroup Category\n * @apiSuccess (Success 204) 204 No Content.\n * @apiError 404 Category not found.\n */\nrouter.delete('/:id', _controller.destroy);\n\nexports.default = router;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2NhdGVnb3J5L2luZGV4LmpzPzJmNzEiXSwibmFtZXMiOlsic2NoZW1hIiwiQ2F0ZWdvcnkiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJuYW1lIiwidHJlZSIsInBvc3QiLCJjcmVhdGUiLCJnZXQiLCJpbmRleCIsInNob3ciLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJkZXN0cm95Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBSUE7Ozs7O2tCQUNtQkEsTTs7OztBQUxuQjs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O1FBRU9DLFE7OztBQUVQLElBQU1DLFNBQVMsSUFBSUMsZUFBSixFQUFmO0lBQ1FDLEksR0FBU0osY0FBT0ssSSxDQUFoQkQsSTs7QUFFUjs7Ozs7Ozs7OztBQVNBRixPQUFPSSxJQUFQLENBQVksR0FBWixFQUNFLHlCQUFLLEVBQUVGLFVBQUYsRUFBTCxDQURGLEVBRUVHLGtCQUZGOztBQUlBOzs7Ozs7Ozs7QUFTQUwsT0FBT00sR0FBUCxDQUFXLEdBQVgsRUFDRSwyQkFERixFQUVFQyxpQkFGRjs7QUFJQTs7Ozs7Ozs7QUFRQVAsT0FBT00sR0FBUCxDQUFXLE1BQVgsRUFDRUUsZ0JBREY7O0FBR0E7Ozs7Ozs7OztBQVNBUixPQUFPUyxHQUFQLENBQVcsTUFBWCxFQUNFLHlCQUFLLEVBQUVQLFVBQUYsRUFBTCxDQURGLEVBRUVRLGtCQUZGOztBQUlBOzs7Ozs7O0FBT0FWLE9BQU9XLE1BQVAsQ0FBYyxNQUFkLEVBQ0VDLG1CQURGOztrQkFHZVosTSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcydcbmltcG9ydCB7IG1pZGRsZXdhcmUgYXMgcXVlcnkgfSBmcm9tICdxdWVyeW1lbidcbmltcG9ydCB7IG1pZGRsZXdhcmUgYXMgYm9keSB9IGZyb20gJ2JvZHltZW4nXG5pbXBvcnQgeyBjcmVhdGUsIGluZGV4LCBzaG93LCB1cGRhdGUsIGRlc3Ryb3kgfSBmcm9tICcuL2NvbnRyb2xsZXInXG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuL21vZGVsJ1xuZXhwb3J0IENhdGVnb3J5LCB7IHNjaGVtYSB9IGZyb20gJy4vbW9kZWwnXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuY29uc3QgeyBuYW1lIH0gPSBzY2hlbWEudHJlZVxuXG4vKipcbiAqIEBhcGkge3Bvc3R9IC9jYXRlZ29yaWVzIENyZWF0ZSBjYXRlZ29yeVxuICogQGFwaU5hbWUgQ3JlYXRlQ2F0ZWdvcnlcbiAqIEBhcGlHcm91cCBDYXRlZ29yeVxuICogQGFwaVBhcmFtIG5hbWUgQ2F0ZWdvcnkncyBuYW1lLlxuICogQGFwaVN1Y2Nlc3Mge09iamVjdH0gY2F0ZWdvcnkgQ2F0ZWdvcnkncyBkYXRhLlxuICogQGFwaUVycm9yIHtPYmplY3R9IDQwMCBTb21lIHBhcmFtZXRlcnMgbWF5IGNvbnRhaW4gaW52YWxpZCB2YWx1ZXMuXG4gKiBAYXBpRXJyb3IgNDA0IENhdGVnb3J5IG5vdCBmb3VuZC5cbiAqL1xucm91dGVyLnBvc3QoJy8nLFxuICBib2R5KHsgbmFtZSB9KSxcbiAgY3JlYXRlKVxuXG4vKipcbiAqIEBhcGkge2dldH0gL2NhdGVnb3JpZXMgUmV0cmlldmUgY2F0ZWdvcmllc1xuICogQGFwaU5hbWUgUmV0cmlldmVDYXRlZ29yaWVzXG4gKiBAYXBpR3JvdXAgQ2F0ZWdvcnlcbiAqIEBhcGlVc2UgbGlzdFBhcmFtc1xuICogQGFwaVN1Y2Nlc3Mge051bWJlcn0gY291bnQgVG90YWwgYW1vdW50IG9mIGNhdGVnb3JpZXMuXG4gKiBAYXBpU3VjY2VzcyB7T2JqZWN0W119IHJvd3MgTGlzdCBvZiBjYXRlZ29yaWVzLlxuICogQGFwaUVycm9yIHtPYmplY3R9IDQwMCBTb21lIHBhcmFtZXRlcnMgbWF5IGNvbnRhaW4gaW52YWxpZCB2YWx1ZXMuXG4gKi9cbnJvdXRlci5nZXQoJy8nLFxuICBxdWVyeSgpLFxuICBpbmRleClcblxuLyoqXG4gKiBAYXBpIHtnZXR9IC9jYXRlZ29yaWVzLzppZCBSZXRyaWV2ZSBjYXRlZ29yeVxuICogQGFwaU5hbWUgUmV0cmlldmVDYXRlZ29yeVxuICogQGFwaUdyb3VwIENhdGVnb3J5XG4gKiBAYXBpU3VjY2VzcyB7T2JqZWN0fSBjYXRlZ29yeSBDYXRlZ29yeSdzIGRhdGEuXG4gKiBAYXBpRXJyb3Ige09iamVjdH0gNDAwIFNvbWUgcGFyYW1ldGVycyBtYXkgY29udGFpbiBpbnZhbGlkIHZhbHVlcy5cbiAqIEBhcGlFcnJvciA0MDQgQ2F0ZWdvcnkgbm90IGZvdW5kLlxuICovXG5yb3V0ZXIuZ2V0KCcvOmlkJyxcbiAgc2hvdylcblxuLyoqXG4gKiBAYXBpIHtwdXR9IC9jYXRlZ29yaWVzLzppZCBVcGRhdGUgY2F0ZWdvcnlcbiAqIEBhcGlOYW1lIFVwZGF0ZUNhdGVnb3J5XG4gKiBAYXBpR3JvdXAgQ2F0ZWdvcnlcbiAqIEBhcGlQYXJhbSBuYW1lIENhdGVnb3J5J3MgbmFtZS5cbiAqIEBhcGlTdWNjZXNzIHtPYmplY3R9IGNhdGVnb3J5IENhdGVnb3J5J3MgZGF0YS5cbiAqIEBhcGlFcnJvciB7T2JqZWN0fSA0MDAgU29tZSBwYXJhbWV0ZXJzIG1heSBjb250YWluIGludmFsaWQgdmFsdWVzLlxuICogQGFwaUVycm9yIDQwNCBDYXRlZ29yeSBub3QgZm91bmQuXG4gKi9cbnJvdXRlci5wdXQoJy86aWQnLFxuICBib2R5KHsgbmFtZSB9KSxcbiAgdXBkYXRlKVxuXG4vKipcbiAqIEBhcGkge2RlbGV0ZX0gL2NhdGVnb3JpZXMvOmlkIERlbGV0ZSBjYXRlZ29yeVxuICogQGFwaU5hbWUgRGVsZXRlQ2F0ZWdvcnlcbiAqIEBhcGlHcm91cCBDYXRlZ29yeVxuICogQGFwaVN1Y2Nlc3MgKFN1Y2Nlc3MgMjA0KSAyMDQgTm8gQ29udGVudC5cbiAqIEBhcGlFcnJvciA0MDQgQ2F0ZWdvcnkgbm90IGZvdW5kLlxuICovXG5yb3V0ZXIuZGVsZXRlKCcvOmlkJyxcbiAgZGVzdHJveSlcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.schema = exports.Tag = undefined;\n\nvar _model = __webpack_require__(35);\n\nObject.defineProperty(exports, 'schema', {\n  enumerable: true,\n  get: function get() {\n    return _model.schema;\n  }\n});\n\nvar _express = __webpack_require__(0);\n\nvar _querymen = __webpack_require__(2);\n\nvar _bodymen = __webpack_require__(3);\n\nvar _controller = __webpack_require__(36);\n\nvar _model2 = _interopRequireDefault(_model);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Tag = _model2.default;\n\n\nvar router = new _express.Router();\nvar name = _model.schema.tree.name;\n\n/**\n * @api {post} /tags Create tag\n * @apiName CreateTag\n * @apiGroup Tag\n * @apiParam name Tag's name.\n * @apiSuccess {Object} tag Tag's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Tag not found.\n */\n\nrouter.post('/', (0, _bodymen.middleware)({ name: name }), _controller.create);\n\n/**\n * @api {get} /tags Retrieve tags\n * @apiName RetrieveTags\n * @apiGroup Tag\n * @apiUse listParams\n * @apiSuccess {Number} count Total amount of tags.\n * @apiSuccess {Object[]} rows List of tags.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get('/', (0, _querymen.middleware)(), _controller.index);\n\n/**\n * @api {get} /tags/:id Retrieve tag\n * @apiName RetrieveTag\n * @apiGroup Tag\n * @apiSuccess {Object} tag Tag's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Tag not found.\n */\nrouter.get('/:id', _controller.show);\n\n/**\n * @api {put} /tags/:id Update tag\n * @apiName UpdateTag\n * @apiGroup Tag\n * @apiParam name Tag's name.\n * @apiSuccess {Object} tag Tag's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Tag not found.\n */\nrouter.put('/:id', (0, _bodymen.middleware)({ name: name }), _controller.update);\n\n/**\n * @api {delete} /tags/:id Delete tag\n * @apiName DeleteTag\n * @apiGroup Tag\n * @apiSuccess (Success 204) 204 No Content.\n * @apiError 404 Tag not found.\n */\nrouter.delete('/:id', _controller.destroy);\n\nexports.default = router;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3RhZy9pbmRleC5qcz8zODUwIl0sIm5hbWVzIjpbInNjaGVtYSIsIlRhZyIsInJvdXRlciIsIlJvdXRlciIsIm5hbWUiLCJ0cmVlIiwicG9zdCIsImNyZWF0ZSIsImdldCIsImluZGV4Iiwic2hvdyIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSIsImRlc3Ryb3kiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJQTs7Ozs7a0JBQ2NBLE07Ozs7QUFMZDs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O1FBRU9DLEc7OztBQUVQLElBQU1DLFNBQVMsSUFBSUMsZUFBSixFQUFmO0lBQ1FDLEksR0FBU0osY0FBT0ssSSxDQUFoQkQsSTs7QUFFUjs7Ozs7Ozs7OztBQVNBRixPQUFPSSxJQUFQLENBQVksR0FBWixFQUNFLHlCQUFLLEVBQUVGLFVBQUYsRUFBTCxDQURGLEVBRUVHLGtCQUZGOztBQUlBOzs7Ozs7Ozs7QUFTQUwsT0FBT00sR0FBUCxDQUFXLEdBQVgsRUFDRSwyQkFERixFQUVFQyxpQkFGRjs7QUFJQTs7Ozs7Ozs7QUFRQVAsT0FBT00sR0FBUCxDQUFXLE1BQVgsRUFDRUUsZ0JBREY7O0FBR0E7Ozs7Ozs7OztBQVNBUixPQUFPUyxHQUFQLENBQVcsTUFBWCxFQUNFLHlCQUFLLEVBQUVQLFVBQUYsRUFBTCxDQURGLEVBRUVRLGtCQUZGOztBQUlBOzs7Ozs7O0FBT0FWLE9BQU9XLE1BQVAsQ0FBYyxNQUFkLEVBQ0VDLG1CQURGOztrQkFHZVosTSIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcydcbmltcG9ydCB7IG1pZGRsZXdhcmUgYXMgcXVlcnkgfSBmcm9tICdxdWVyeW1lbidcbmltcG9ydCB7IG1pZGRsZXdhcmUgYXMgYm9keSB9IGZyb20gJ2JvZHltZW4nXG5pbXBvcnQgeyBjcmVhdGUsIGluZGV4LCBzaG93LCB1cGRhdGUsIGRlc3Ryb3kgfSBmcm9tICcuL2NvbnRyb2xsZXInXG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuL21vZGVsJ1xuZXhwb3J0IFRhZywgeyBzY2hlbWEgfSBmcm9tICcuL21vZGVsJ1xuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcbmNvbnN0IHsgbmFtZSB9ID0gc2NoZW1hLnRyZWVcblxuLyoqXG4gKiBAYXBpIHtwb3N0fSAvdGFncyBDcmVhdGUgdGFnXG4gKiBAYXBpTmFtZSBDcmVhdGVUYWdcbiAqIEBhcGlHcm91cCBUYWdcbiAqIEBhcGlQYXJhbSBuYW1lIFRhZydzIG5hbWUuXG4gKiBAYXBpU3VjY2VzcyB7T2JqZWN0fSB0YWcgVGFnJ3MgZGF0YS5cbiAqIEBhcGlFcnJvciB7T2JqZWN0fSA0MDAgU29tZSBwYXJhbWV0ZXJzIG1heSBjb250YWluIGludmFsaWQgdmFsdWVzLlxuICogQGFwaUVycm9yIDQwNCBUYWcgbm90IGZvdW5kLlxuICovXG5yb3V0ZXIucG9zdCgnLycsXG4gIGJvZHkoeyBuYW1lIH0pLFxuICBjcmVhdGUpXG5cbi8qKlxuICogQGFwaSB7Z2V0fSAvdGFncyBSZXRyaWV2ZSB0YWdzXG4gKiBAYXBpTmFtZSBSZXRyaWV2ZVRhZ3NcbiAqIEBhcGlHcm91cCBUYWdcbiAqIEBhcGlVc2UgbGlzdFBhcmFtc1xuICogQGFwaVN1Y2Nlc3Mge051bWJlcn0gY291bnQgVG90YWwgYW1vdW50IG9mIHRhZ3MuXG4gKiBAYXBpU3VjY2VzcyB7T2JqZWN0W119IHJvd3MgTGlzdCBvZiB0YWdzLlxuICogQGFwaUVycm9yIHtPYmplY3R9IDQwMCBTb21lIHBhcmFtZXRlcnMgbWF5IGNvbnRhaW4gaW52YWxpZCB2YWx1ZXMuXG4gKi9cbnJvdXRlci5nZXQoJy8nLFxuICBxdWVyeSgpLFxuICBpbmRleClcblxuLyoqXG4gKiBAYXBpIHtnZXR9IC90YWdzLzppZCBSZXRyaWV2ZSB0YWdcbiAqIEBhcGlOYW1lIFJldHJpZXZlVGFnXG4gKiBAYXBpR3JvdXAgVGFnXG4gKiBAYXBpU3VjY2VzcyB7T2JqZWN0fSB0YWcgVGFnJ3MgZGF0YS5cbiAqIEBhcGlFcnJvciB7T2JqZWN0fSA0MDAgU29tZSBwYXJhbWV0ZXJzIG1heSBjb250YWluIGludmFsaWQgdmFsdWVzLlxuICogQGFwaUVycm9yIDQwNCBUYWcgbm90IGZvdW5kLlxuICovXG5yb3V0ZXIuZ2V0KCcvOmlkJyxcbiAgc2hvdylcblxuLyoqXG4gKiBAYXBpIHtwdXR9IC90YWdzLzppZCBVcGRhdGUgdGFnXG4gKiBAYXBpTmFtZSBVcGRhdGVUYWdcbiAqIEBhcGlHcm91cCBUYWdcbiAqIEBhcGlQYXJhbSBuYW1lIFRhZydzIG5hbWUuXG4gKiBAYXBpU3VjY2VzcyB7T2JqZWN0fSB0YWcgVGFnJ3MgZGF0YS5cbiAqIEBhcGlFcnJvciB7T2JqZWN0fSA0MDAgU29tZSBwYXJhbWV0ZXJzIG1heSBjb250YWluIGludmFsaWQgdmFsdWVzLlxuICogQGFwaUVycm9yIDQwNCBUYWcgbm90IGZvdW5kLlxuICovXG5yb3V0ZXIucHV0KCcvOmlkJyxcbiAgYm9keSh7IG5hbWUgfSksXG4gIHVwZGF0ZSlcblxuLyoqXG4gKiBAYXBpIHtkZWxldGV9IC90YWdzLzppZCBEZWxldGUgdGFnXG4gKiBAYXBpTmFtZSBEZWxldGVUYWdcbiAqIEBhcGlHcm91cCBUYWdcbiAqIEBhcGlTdWNjZXNzIChTdWNjZXNzIDIwNCkgMjA0IE5vIENvbnRlbnQuXG4gKiBAYXBpRXJyb3IgNDA0IFRhZyBub3QgZm91bmQuXG4gKi9cbnJvdXRlci5kZWxldGUoJy86aWQnLFxuICBkZXN0cm95KVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.schema = exports.Article = undefined;\n\nvar _model = __webpack_require__(31);\n\nObject.defineProperty(exports, 'schema', {\n  enumerable: true,\n  get: function get() {\n    return _model.schema;\n  }\n});\n\nvar _express = __webpack_require__(0);\n\nvar _querymen = __webpack_require__(2);\n\nvar _bodymen = __webpack_require__(3);\n\nvar _controller = __webpack_require__(37);\n\nvar _model2 = _interopRequireDefault(_model);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Article = _model2.default;\n\n\nvar router = new _express.Router();\nvar _schema$tree = _model.schema.tree,\n    title = _schema$tree.title,\n    desc = _schema$tree.desc,\n    content = _schema$tree.content,\n    thumb = _schema$tree.thumb,\n    category = _schema$tree.category,\n    tags = _schema$tree.tags;\n\n/**\n * @api {post} /articles Create article\n * @apiName CreateArticle\n * @apiGroup Article\n * @apiParam title Article's title.\n * @apiParam desc Article's desc.\n * @apiParam content Article's content.\n * @apiParam thumb Article's thumb.\n * @apiParam category Article's category.\n * @apiSuccess {Object} article Article's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Article not found.\n */\n\nrouter.post('/', (0, _bodymen.middleware)({ title: title, desc: desc, content: content, thumb: thumb, category: category }), _controller.create);\n\n/**\n * @api {get} /articles Retrieve articles\n * @apiName RetrieveArticles\n * @apiGroup Article\n * @apiUse listParams\n * @apiSuccess {Number} count Total amount of articles.\n * @apiSuccess {Object[]} rows List of articles.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get('/', (0, _querymen.middleware)({\n  category: category,\n  tags: tags\n}), _controller.index);\n\n/**\n * @api {get} /articles/:id Retrieve article\n * @apiName RetrieveArticle\n * @apiGroup Article\n * @apiSuccess {Object} article Article's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Article not found.\n */\nrouter.get('/:id', _controller.show);\n\n/**\n * @api {put} /articles/:id Update article\n * @apiName UpdateArticle\n * @apiGroup Article\n * @apiParam title Article's title.\n * @apiParam desc Article's desc.\n * @apiParam content Article's content.\n * @apiParam thumb Article's thumb.\n * @apiParam category Article's category.\n * @apiSuccess {Object} article Article's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Article not found.\n */\nrouter.put('/:id', (0, _bodymen.middleware)({ title: title, desc: desc, content: content, thumb: thumb, category: category }), _controller.update);\n\n/**\n * @api {delete} /articles/:id Delete article\n * @apiName DeleteArticle\n * @apiGroup Article\n * @apiSuccess (Success 204) 204 No Content.\n * @apiError 404 Article not found.\n */\nrouter.delete('/:id', _controller.destroy);\n\nexports.default = router;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2FydGljbGUvaW5kZXguanM/Zjg3NCJdLCJuYW1lcyI6WyJzY2hlbWEiLCJBcnRpY2xlIiwicm91dGVyIiwiUm91dGVyIiwidHJlZSIsInRpdGxlIiwiZGVzYyIsImNvbnRlbnQiLCJ0aHVtYiIsImNhdGVnb3J5IiwidGFncyIsInBvc3QiLCJjcmVhdGUiLCJnZXQiLCJpbmRleCIsInNob3ciLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJkZXN0cm95Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBSUE7Ozs7O2tCQUNrQkEsTTs7OztBQUxsQjs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O1FBRU9DLE87OztBQUVQLElBQU1DLFNBQVMsSUFBSUMsZUFBSixFQUFmO21CQUN3REgsY0FBT0ksSTtJQUF2REMsSyxnQkFBQUEsSztJQUFPQyxJLGdCQUFBQSxJO0lBQU1DLE8sZ0JBQUFBLE87SUFBU0MsSyxnQkFBQUEsSztJQUFPQyxRLGdCQUFBQSxRO0lBQVdDLEksZ0JBQUFBLEk7O0FBRWhEOzs7Ozs7Ozs7Ozs7OztBQWFBUixPQUFPUyxJQUFQLENBQVksR0FBWixFQUNFLHlCQUFLLEVBQUVOLFlBQUYsRUFBU0MsVUFBVCxFQUFlQyxnQkFBZixFQUF3QkMsWUFBeEIsRUFBK0JDLGtCQUEvQixFQUFMLENBREYsRUFFRUcsa0JBRkY7O0FBSUE7Ozs7Ozs7OztBQVNBVixPQUFPVyxHQUFQLENBQVcsR0FBWCxFQUNFLDBCQUFNO0FBQ0pKLG9CQURJO0FBRUpDO0FBRkksQ0FBTixDQURGLEVBS0VJLGlCQUxGOztBQU9BOzs7Ozs7OztBQVFBWixPQUFPVyxHQUFQLENBQVcsTUFBWCxFQUNFRSxnQkFERjs7QUFHQTs7Ozs7Ozs7Ozs7OztBQWFBYixPQUFPYyxHQUFQLENBQVcsTUFBWCxFQUNFLHlCQUFLLEVBQUVYLFlBQUYsRUFBU0MsVUFBVCxFQUFlQyxnQkFBZixFQUF3QkMsWUFBeEIsRUFBK0JDLGtCQUEvQixFQUFMLENBREYsRUFFRVEsa0JBRkY7O0FBSUE7Ozs7Ozs7QUFPQWYsT0FBT2dCLE1BQVAsQ0FBYyxNQUFkLEVBQ0VDLG1CQURGOztrQkFHZWpCLE0iLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJ1xuaW1wb3J0IHsgbWlkZGxld2FyZSBhcyBxdWVyeSB9IGZyb20gJ3F1ZXJ5bWVuJ1xuaW1wb3J0IHsgbWlkZGxld2FyZSBhcyBib2R5IH0gZnJvbSAnYm9keW1lbidcbmltcG9ydCB7IGNyZWF0ZSwgaW5kZXgsIHNob3csIHVwZGF0ZSwgZGVzdHJveSB9IGZyb20gJy4vY29udHJvbGxlcidcbmltcG9ydCB7IHNjaGVtYSB9IGZyb20gJy4vbW9kZWwnXG5leHBvcnQgQXJ0aWNsZSwgeyBzY2hlbWEgfSBmcm9tICcuL21vZGVsJ1xuXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcbmNvbnN0IHsgdGl0bGUsIGRlc2MsIGNvbnRlbnQsIHRodW1iLCBjYXRlZ29yeSAsIHRhZ3N9ID0gc2NoZW1hLnRyZWVcblxuLyoqXG4gKiBAYXBpIHtwb3N0fSAvYXJ0aWNsZXMgQ3JlYXRlIGFydGljbGVcbiAqIEBhcGlOYW1lIENyZWF0ZUFydGljbGVcbiAqIEBhcGlHcm91cCBBcnRpY2xlXG4gKiBAYXBpUGFyYW0gdGl0bGUgQXJ0aWNsZSdzIHRpdGxlLlxuICogQGFwaVBhcmFtIGRlc2MgQXJ0aWNsZSdzIGRlc2MuXG4gKiBAYXBpUGFyYW0gY29udGVudCBBcnRpY2xlJ3MgY29udGVudC5cbiAqIEBhcGlQYXJhbSB0aHVtYiBBcnRpY2xlJ3MgdGh1bWIuXG4gKiBAYXBpUGFyYW0gY2F0ZWdvcnkgQXJ0aWNsZSdzIGNhdGVnb3J5LlxuICogQGFwaVN1Y2Nlc3Mge09iamVjdH0gYXJ0aWNsZSBBcnRpY2xlJ3MgZGF0YS5cbiAqIEBhcGlFcnJvciB7T2JqZWN0fSA0MDAgU29tZSBwYXJhbWV0ZXJzIG1heSBjb250YWluIGludmFsaWQgdmFsdWVzLlxuICogQGFwaUVycm9yIDQwNCBBcnRpY2xlIG5vdCBmb3VuZC5cbiAqL1xucm91dGVyLnBvc3QoJy8nLFxuICBib2R5KHsgdGl0bGUsIGRlc2MsIGNvbnRlbnQsIHRodW1iLCBjYXRlZ29yeSB9KSxcbiAgY3JlYXRlKVxuXG4vKipcbiAqIEBhcGkge2dldH0gL2FydGljbGVzIFJldHJpZXZlIGFydGljbGVzXG4gKiBAYXBpTmFtZSBSZXRyaWV2ZUFydGljbGVzXG4gKiBAYXBpR3JvdXAgQXJ0aWNsZVxuICogQGFwaVVzZSBsaXN0UGFyYW1zXG4gKiBAYXBpU3VjY2VzcyB7TnVtYmVyfSBjb3VudCBUb3RhbCBhbW91bnQgb2YgYXJ0aWNsZXMuXG4gKiBAYXBpU3VjY2VzcyB7T2JqZWN0W119IHJvd3MgTGlzdCBvZiBhcnRpY2xlcy5cbiAqIEBhcGlFcnJvciB7T2JqZWN0fSA0MDAgU29tZSBwYXJhbWV0ZXJzIG1heSBjb250YWluIGludmFsaWQgdmFsdWVzLlxuICovXG5yb3V0ZXIuZ2V0KCcvJyxcbiAgcXVlcnkoe1xuICAgIGNhdGVnb3J5LCBcbiAgICB0YWdzXG4gIH0pLFxuICBpbmRleClcblxuLyoqXG4gKiBAYXBpIHtnZXR9IC9hcnRpY2xlcy86aWQgUmV0cmlldmUgYXJ0aWNsZVxuICogQGFwaU5hbWUgUmV0cmlldmVBcnRpY2xlXG4gKiBAYXBpR3JvdXAgQXJ0aWNsZVxuICogQGFwaVN1Y2Nlc3Mge09iamVjdH0gYXJ0aWNsZSBBcnRpY2xlJ3MgZGF0YS5cbiAqIEBhcGlFcnJvciB7T2JqZWN0fSA0MDAgU29tZSBwYXJhbWV0ZXJzIG1heSBjb250YWluIGludmFsaWQgdmFsdWVzLlxuICogQGFwaUVycm9yIDQwNCBBcnRpY2xlIG5vdCBmb3VuZC5cbiAqL1xucm91dGVyLmdldCgnLzppZCcsXG4gIHNob3cpXG5cbi8qKlxuICogQGFwaSB7cHV0fSAvYXJ0aWNsZXMvOmlkIFVwZGF0ZSBhcnRpY2xlXG4gKiBAYXBpTmFtZSBVcGRhdGVBcnRpY2xlXG4gKiBAYXBpR3JvdXAgQXJ0aWNsZVxuICogQGFwaVBhcmFtIHRpdGxlIEFydGljbGUncyB0aXRsZS5cbiAqIEBhcGlQYXJhbSBkZXNjIEFydGljbGUncyBkZXNjLlxuICogQGFwaVBhcmFtIGNvbnRlbnQgQXJ0aWNsZSdzIGNvbnRlbnQuXG4gKiBAYXBpUGFyYW0gdGh1bWIgQXJ0aWNsZSdzIHRodW1iLlxuICogQGFwaVBhcmFtIGNhdGVnb3J5IEFydGljbGUncyBjYXRlZ29yeS5cbiAqIEBhcGlTdWNjZXNzIHtPYmplY3R9IGFydGljbGUgQXJ0aWNsZSdzIGRhdGEuXG4gKiBAYXBpRXJyb3Ige09iamVjdH0gNDAwIFNvbWUgcGFyYW1ldGVycyBtYXkgY29udGFpbiBpbnZhbGlkIHZhbHVlcy5cbiAqIEBhcGlFcnJvciA0MDQgQXJ0aWNsZSBub3QgZm91bmQuXG4gKi9cbnJvdXRlci5wdXQoJy86aWQnLFxuICBib2R5KHsgdGl0bGUsIGRlc2MsIGNvbnRlbnQsIHRodW1iLCBjYXRlZ29yeSB9KSxcbiAgdXBkYXRlKVxuXG4vKipcbiAqIEBhcGkge2RlbGV0ZX0gL2FydGljbGVzLzppZCBEZWxldGUgYXJ0aWNsZVxuICogQGFwaU5hbWUgRGVsZXRlQXJ0aWNsZVxuICogQGFwaUdyb3VwIEFydGljbGVcbiAqIEBhcGlTdWNjZXNzIChTdWNjZXNzIDIwNCkgMjA0IE5vIENvbnRlbnQuXG4gKiBAYXBpRXJyb3IgNDA0IEFydGljbGUgbm90IGZvdW5kLlxuICovXG5yb3V0ZXIuZGVsZXRlKCcvOmlkJyxcbiAgZGVzdHJveSlcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///10\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.schema = exports.Comment = undefined;\n\nvar _model = __webpack_require__(38);\n\nObject.defineProperty(exports, 'schema', {\n  enumerable: true,\n  get: function get() {\n    return _model.schema;\n  }\n});\n\nvar _express = __webpack_require__(0);\n\nvar _querymen = __webpack_require__(2);\n\nvar _bodymen = __webpack_require__(3);\n\nvar _controller = __webpack_require__(39);\n\nvar _model2 = _interopRequireDefault(_model);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Comment = _model2.default;\n\n\nvar router = new _express.Router();\nvar _schema$tree = _model.schema.tree,\n    name = _schema$tree.name,\n    email = _schema$tree.email,\n    content = _schema$tree.content,\n    article = _schema$tree.article;\n\n/**\n * @api {post} /comments Create comment\n * @apiName CreateComment\n * @apiGroup Comment\n * @apiParam name Comment's name.\n * @apiParam email Comment's email.\n * @apiParam content Comment's content.\n * @apiParam article Comment's article.\n * @apiSuccess {Object} comment Comment's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Comment not found.\n */\n\nrouter.post('/', (0, _bodymen.middleware)({ name: name, email: email, content: content, article: article }), _controller.create);\n\n/**\n * @api {get} /comments Retrieve comments\n * @apiName RetrieveComments\n * @apiGroup Comment\n * @apiUse listParams\n * @apiSuccess {Number} count Total amount of comments.\n * @apiSuccess {Object[]} rows List of comments.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n */\nrouter.get('/', (0, _querymen.middleware)({\n  article: article\n}), _controller.index);\n\n/**\n * @api {get} /comments/:id Retrieve comment\n * @apiName RetrieveComment\n * @apiGroup Comment\n * @apiSuccess {Object} comment Comment's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Comment not found.\n */\nrouter.get('/:id', _controller.show);\n\n/**\n * @api {put} /comments/:id Update comment\n * @apiName UpdateComment\n * @apiGroup Comment\n * @apiParam name Comment's name.\n * @apiParam email Comment's email.\n * @apiParam content Comment's content.\n * @apiParam article Comment's article.\n * @apiSuccess {Object} comment Comment's data.\n * @apiError {Object} 400 Some parameters may contain invalid values.\n * @apiError 404 Comment not found.\n */\nrouter.put('/:id', (0, _bodymen.middleware)({ name: name, email: email, content: content, article: article }), _controller.update);\n\n/**\n * @api {delete} /comments/:id Delete comment\n * @apiName DeleteComment\n * @apiGroup Comment\n * @apiSuccess (Success 204) 204 No Content.\n * @apiError 404 Comment not found.\n */\nrouter.delete('/:id', _controller.destroy);\n\nexports.default = router;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2NvbW1lbnQvaW5kZXguanM/Y2M0OSJdLCJuYW1lcyI6WyJzY2hlbWEiLCJDb21tZW50Iiwicm91dGVyIiwiUm91dGVyIiwidHJlZSIsIm5hbWUiLCJlbWFpbCIsImNvbnRlbnQiLCJhcnRpY2xlIiwicG9zdCIsImNyZWF0ZSIsImdldCIsImluZGV4Iiwic2hvdyIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSIsImRlc3Ryb3kiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJQTs7Ozs7a0JBQ2tCQSxNOzs7O0FBTGxCOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7UUFFT0MsTzs7O0FBRVAsSUFBTUMsU0FBUyxJQUFJQyxlQUFKLEVBQWY7bUJBQzBDSCxjQUFPSSxJO0lBQXpDQyxJLGdCQUFBQSxJO0lBQU1DLEssZ0JBQUFBLEs7SUFBT0MsTyxnQkFBQUEsTztJQUFTQyxPLGdCQUFBQSxPOztBQUU5Qjs7Ozs7Ozs7Ozs7OztBQVlBTixPQUFPTyxJQUFQLENBQVksR0FBWixFQUNFLHlCQUFLLEVBQUVKLFVBQUYsRUFBUUMsWUFBUixFQUFlQyxnQkFBZixFQUF3QkMsZ0JBQXhCLEVBQUwsQ0FERixFQUVFRSxrQkFGRjs7QUFJQTs7Ozs7Ozs7O0FBU0FSLE9BQU9TLEdBQVAsQ0FBVyxHQUFYLEVBQ0UsMEJBQU07QUFDSkg7QUFESSxDQUFOLENBREYsRUFJRUksaUJBSkY7O0FBTUE7Ozs7Ozs7O0FBUUFWLE9BQU9TLEdBQVAsQ0FBVyxNQUFYLEVBQ0VFLGdCQURGOztBQUdBOzs7Ozs7Ozs7Ozs7QUFZQVgsT0FBT1ksR0FBUCxDQUFXLE1BQVgsRUFDRSx5QkFBSyxFQUFFVCxVQUFGLEVBQVFDLFlBQVIsRUFBZUMsZ0JBQWYsRUFBd0JDLGdCQUF4QixFQUFMLENBREYsRUFFRU8sa0JBRkY7O0FBSUE7Ozs7Ozs7QUFPQWIsT0FBT2MsTUFBUCxDQUFjLE1BQWQsRUFDRUMsbUJBREY7O2tCQUdlZixNIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcydcbmltcG9ydCB7IG1pZGRsZXdhcmUgYXMgcXVlcnkgfSBmcm9tICdxdWVyeW1lbidcbmltcG9ydCB7IG1pZGRsZXdhcmUgYXMgYm9keSB9IGZyb20gJ2JvZHltZW4nXG5pbXBvcnQgeyBjcmVhdGUsIGluZGV4LCBzaG93LCB1cGRhdGUsIGRlc3Ryb3kgfSBmcm9tICcuL2NvbnRyb2xsZXInXG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuL21vZGVsJ1xuZXhwb3J0IENvbW1lbnQsIHsgc2NoZW1hIH0gZnJvbSAnLi9tb2RlbCdcblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXG5jb25zdCB7IG5hbWUsIGVtYWlsLCBjb250ZW50LCBhcnRpY2xlIH0gPSBzY2hlbWEudHJlZVxuXG4vKipcbiAqIEBhcGkge3Bvc3R9IC9jb21tZW50cyBDcmVhdGUgY29tbWVudFxuICogQGFwaU5hbWUgQ3JlYXRlQ29tbWVudFxuICogQGFwaUdyb3VwIENvbW1lbnRcbiAqIEBhcGlQYXJhbSBuYW1lIENvbW1lbnQncyBuYW1lLlxuICogQGFwaVBhcmFtIGVtYWlsIENvbW1lbnQncyBlbWFpbC5cbiAqIEBhcGlQYXJhbSBjb250ZW50IENvbW1lbnQncyBjb250ZW50LlxuICogQGFwaVBhcmFtIGFydGljbGUgQ29tbWVudCdzIGFydGljbGUuXG4gKiBAYXBpU3VjY2VzcyB7T2JqZWN0fSBjb21tZW50IENvbW1lbnQncyBkYXRhLlxuICogQGFwaUVycm9yIHtPYmplY3R9IDQwMCBTb21lIHBhcmFtZXRlcnMgbWF5IGNvbnRhaW4gaW52YWxpZCB2YWx1ZXMuXG4gKiBAYXBpRXJyb3IgNDA0IENvbW1lbnQgbm90IGZvdW5kLlxuICovXG5yb3V0ZXIucG9zdCgnLycsXG4gIGJvZHkoeyBuYW1lLCBlbWFpbCwgY29udGVudCwgYXJ0aWNsZSB9KSxcbiAgY3JlYXRlKVxuXG4vKipcbiAqIEBhcGkge2dldH0gL2NvbW1lbnRzIFJldHJpZXZlIGNvbW1lbnRzXG4gKiBAYXBpTmFtZSBSZXRyaWV2ZUNvbW1lbnRzXG4gKiBAYXBpR3JvdXAgQ29tbWVudFxuICogQGFwaVVzZSBsaXN0UGFyYW1zXG4gKiBAYXBpU3VjY2VzcyB7TnVtYmVyfSBjb3VudCBUb3RhbCBhbW91bnQgb2YgY29tbWVudHMuXG4gKiBAYXBpU3VjY2VzcyB7T2JqZWN0W119IHJvd3MgTGlzdCBvZiBjb21tZW50cy5cbiAqIEBhcGlFcnJvciB7T2JqZWN0fSA0MDAgU29tZSBwYXJhbWV0ZXJzIG1heSBjb250YWluIGludmFsaWQgdmFsdWVzLlxuICovXG5yb3V0ZXIuZ2V0KCcvJyxcbiAgcXVlcnkoe1xuICAgIGFydGljbGVcbiAgfSksXG4gIGluZGV4KVxuXG4vKipcbiAqIEBhcGkge2dldH0gL2NvbW1lbnRzLzppZCBSZXRyaWV2ZSBjb21tZW50XG4gKiBAYXBpTmFtZSBSZXRyaWV2ZUNvbW1lbnRcbiAqIEBhcGlHcm91cCBDb21tZW50XG4gKiBAYXBpU3VjY2VzcyB7T2JqZWN0fSBjb21tZW50IENvbW1lbnQncyBkYXRhLlxuICogQGFwaUVycm9yIHtPYmplY3R9IDQwMCBTb21lIHBhcmFtZXRlcnMgbWF5IGNvbnRhaW4gaW52YWxpZCB2YWx1ZXMuXG4gKiBAYXBpRXJyb3IgNDA0IENvbW1lbnQgbm90IGZvdW5kLlxuICovXG5yb3V0ZXIuZ2V0KCcvOmlkJyxcbiAgc2hvdylcblxuLyoqXG4gKiBAYXBpIHtwdXR9IC9jb21tZW50cy86aWQgVXBkYXRlIGNvbW1lbnRcbiAqIEBhcGlOYW1lIFVwZGF0ZUNvbW1lbnRcbiAqIEBhcGlHcm91cCBDb21tZW50XG4gKiBAYXBpUGFyYW0gbmFtZSBDb21tZW50J3MgbmFtZS5cbiAqIEBhcGlQYXJhbSBlbWFpbCBDb21tZW50J3MgZW1haWwuXG4gKiBAYXBpUGFyYW0gY29udGVudCBDb21tZW50J3MgY29udGVudC5cbiAqIEBhcGlQYXJhbSBhcnRpY2xlIENvbW1lbnQncyBhcnRpY2xlLlxuICogQGFwaVN1Y2Nlc3Mge09iamVjdH0gY29tbWVudCBDb21tZW50J3MgZGF0YS5cbiAqIEBhcGlFcnJvciB7T2JqZWN0fSA0MDAgU29tZSBwYXJhbWV0ZXJzIG1heSBjb250YWluIGludmFsaWQgdmFsdWVzLlxuICogQGFwaUVycm9yIDQwNCBDb21tZW50IG5vdCBmb3VuZC5cbiAqL1xucm91dGVyLnB1dCgnLzppZCcsXG4gIGJvZHkoeyBuYW1lLCBlbWFpbCwgY29udGVudCwgYXJ0aWNsZSB9KSxcbiAgdXBkYXRlKVxuXG4vKipcbiAqIEBhcGkge2RlbGV0ZX0gL2NvbW1lbnRzLzppZCBEZWxldGUgY29tbWVudFxuICogQGFwaU5hbWUgRGVsZXRlQ29tbWVudFxuICogQGFwaUdyb3VwIENvbW1lbnRcbiAqIEBhcGlTdWNjZXNzIChTdWNjZXNzIDIwNCkgMjA0IE5vIENvbnRlbnQuXG4gKiBAYXBpRXJyb3IgNDA0IENvbW1lbnQgbm90IGZvdW5kLlxuICovXG5yb3V0ZXIuZGVsZXRlKCcvOmlkJyxcbiAgZGVzdHJveSlcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n")},function(e,n,B){B(13),e.exports=B(14)},function(module,exports){eval('module.exports = require("babel-polyfill");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiYWJlbC1wb2x5ZmlsbFwiPzYzNjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiYWJlbC1wb2x5ZmlsbFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(15);\n\nexports = module.exports = __webpack_require__(16);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsbUJBQU9BLENBQUMsRUFBUjs7QUFFQUMsVUFBVUMsT0FBT0QsT0FBUCxHQUFpQkQsbUJBQU9BLENBQUMsRUFBUixDQUEzQiIsImZpbGUiOiIxNC5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2JhYmVsLWNvcmUvcmVnaXN0ZXInKVxuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2FwcCcpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n")},function(module,exports){eval('module.exports = require("babel-core/register");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiYWJlbC1jb3JlL3JlZ2lzdGVyXCI/YTBlZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJhYmVsLWNvcmUvcmVnaXN0ZXJcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _setImmediate2 = __webpack_require__(17);\n\nvar _setImmediate3 = _interopRequireDefault(_setImmediate2);\n\nvar _promise = __webpack_require__(18);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _http = __webpack_require__(19);\n\nvar _http2 = _interopRequireDefault(_http);\n\nvar _config = __webpack_require__(7);\n\nvar _mongoose = __webpack_require__(22);\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _express = __webpack_require__(25);\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _api = __webpack_require__(30);\n\nvar _api2 = _interopRequireDefault(_api);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar app = (0, _express2.default)(_config.apiRoot, _api2.default);\nvar server = _http2.default.createServer(app);\n\n_mongoose2.default.connect(_config.mongo.uri);\n_mongoose2.default.Promise = _promise2.default;\n\n(0, _setImmediate3.default)(function () {\n  server.listen(_config.port, _config.ip, function () {\n    console.log('Express server listening on http://%s:%d, in %s mode', _config.ip, _config.port, _config.env);\n  });\n});\n\nexports.default = app;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmpzPzExMTIiXSwibmFtZXMiOlsiYXBwIiwiYXBpUm9vdCIsImFwaSIsInNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJtb25nb29zZSIsImNvbm5lY3QiLCJtb25nbyIsInVyaSIsIlByb21pc2UiLCJsaXN0ZW4iLCJwb3J0IiwiaXAiLCJjb25zb2xlIiwibG9nIiwiZW52Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxNQUFNLHVCQUFRQyxlQUFSLEVBQWlCQyxhQUFqQixDQUFaO0FBQ0EsSUFBTUMsU0FBU0MsZUFBS0MsWUFBTCxDQUFrQkwsR0FBbEIsQ0FBZjs7QUFFQU0sbUJBQVNDLE9BQVQsQ0FBaUJDLGNBQU1DLEdBQXZCO0FBQ0FILG1CQUFTSSxPQUFUOztBQUVBLDRCQUFhLFlBQU07QUFDakJQLFNBQU9RLE1BQVAsQ0FBY0MsWUFBZCxFQUFvQkMsVUFBcEIsRUFBd0IsWUFBTTtBQUM1QkMsWUFBUUMsR0FBUixDQUFZLHNEQUFaLEVBQW9FRixVQUFwRSxFQUF3RUQsWUFBeEUsRUFBOEVJLFdBQTlFO0FBQ0QsR0FGRDtBQUdELENBSkQ7O2tCQU1laEIsRyIsImZpbGUiOiIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBodHRwIGZyb20gJ2h0dHAnXG5pbXBvcnQgeyBlbnYsIG1vbmdvLCBwb3J0LCBpcCwgYXBpUm9vdCB9IGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4vc2VydmljZXMvbW9uZ29vc2UnXG5pbXBvcnQgZXhwcmVzcyBmcm9tICcuL3NlcnZpY2VzL2V4cHJlc3MnXG5pbXBvcnQgYXBpIGZyb20gJy4vYXBpJ1xuXG5jb25zdCBhcHAgPSBleHByZXNzKGFwaVJvb3QsIGFwaSlcbmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcClcblxubW9uZ29vc2UuY29ubmVjdChtb25nby51cmkpXG5tb25nb29zZS5Qcm9taXNlID0gUHJvbWlzZVxuXG5zZXRJbW1lZGlhdGUoKCkgPT4ge1xuICBzZXJ2ZXIubGlzdGVuKHBvcnQsIGlwLCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ0V4cHJlc3Mgc2VydmVyIGxpc3RlbmluZyBvbiBodHRwOi8vJXM6JWQsIGluICVzIG1vZGUnLCBpcCwgcG9ydCwgZW52KVxuICB9KVxufSlcblxuZXhwb3J0IGRlZmF1bHQgYXBwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n")},function(module,exports){eval('module.exports = require("babel-runtime/core-js/set-immediate");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc2V0LWltbWVkaWF0ZVwiPzgxYjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc2V0LWltbWVkaWF0ZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n')},function(module,exports){eval('module.exports = require("babel-runtime/core-js/promise");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZVwiPzdlNDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n')},function(module,exports){eval('module.exports = require("http");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJodHRwXCI/OGQxOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImh0dHBcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n')},function(module,exports){eval('module.exports = require("path");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n')},function(module,exports){eval('module.exports = require("lodash/merge");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJsb2Rhc2gvbWVyZ2VcIj85NWRkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibG9kYXNoL21lcmdlXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = __webpack_require__(23);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _bluebird = __webpack_require__(24);\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _mongoose = __webpack_require__(1);\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _config = __webpack_require__(7);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _keys2.default)(_config.mongo.options).forEach(function (key) {\n  _mongoose2.default.set(key, _config.mongo.options[key]);\n});\n\n_mongoose2.default.Promise = _bluebird2.default;\n/* istanbul ignore next */\n_mongoose2.default.Types.ObjectId.prototype.view = function () {\n  return { id: this.toString() };\n};\n\n/* istanbul ignore next */\n_mongoose2.default.connection.on('error', function (err) {\n  console.error('MongoDB connection error: ' + err);\n  process.exit(-1);\n});\n\nexports.default = _mongoose2.default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvbW9uZ29vc2UvaW5kZXguanM/N2RmMiJdLCJuYW1lcyI6WyJtb25nbyIsIm9wdGlvbnMiLCJmb3JFYWNoIiwia2V5IiwibW9uZ29vc2UiLCJzZXQiLCJQcm9taXNlIiwiVHlwZXMiLCJPYmplY3RJZCIsInByb3RvdHlwZSIsInZpZXciLCJpZCIsInRvU3RyaW5nIiwiY29ubmVjdGlvbiIsIm9uIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwicHJvY2VzcyIsImV4aXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQSxvQkFBWUEsY0FBTUMsT0FBbEIsRUFBMkJDLE9BQTNCLENBQW1DLFVBQUNDLEdBQUQsRUFBUztBQUMxQ0MscUJBQVNDLEdBQVQsQ0FBYUYsR0FBYixFQUFrQkgsY0FBTUMsT0FBTixDQUFjRSxHQUFkLENBQWxCO0FBQ0QsQ0FGRDs7QUFJQUMsbUJBQVNFLE9BQVQsR0FBbUJBLGtCQUFuQjtBQUNBO0FBQ0FGLG1CQUFTRyxLQUFULENBQWVDLFFBQWYsQ0FBd0JDLFNBQXhCLENBQWtDQyxJQUFsQyxHQUF5QyxZQUFZO0FBQ25ELFNBQU8sRUFBRUMsSUFBSSxLQUFLQyxRQUFMLEVBQU4sRUFBUDtBQUNELENBRkQ7O0FBSUE7QUFDQVIsbUJBQVNTLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLE9BQXZCLEVBQWdDLFVBQUNDLEdBQUQsRUFBUztBQUN2Q0MsVUFBUUMsS0FBUixDQUFjLCtCQUErQkYsR0FBN0M7QUFDQUcsVUFBUUMsSUFBUixDQUFhLENBQUMsQ0FBZDtBQUNELENBSEQ7O2tCQUtlZixrQiIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9taXNlIGZyb20gJ2JsdWViaXJkJ1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuaW1wb3J0IHsgbW9uZ28gfSBmcm9tICcuLi8uLi9jb25maWcnXG5cbk9iamVjdC5rZXlzKG1vbmdvLm9wdGlvbnMpLmZvckVhY2goKGtleSkgPT4ge1xuICBtb25nb29zZS5zZXQoa2V5LCBtb25nby5vcHRpb25zW2tleV0pXG59KVxuXG5tb25nb29zZS5Qcm9taXNlID0gUHJvbWlzZVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbm1vbmdvb3NlLlR5cGVzLk9iamVjdElkLnByb3RvdHlwZS52aWV3ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4geyBpZDogdGhpcy50b1N0cmluZygpIH1cbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICBjb25zb2xlLmVycm9yKCdNb25nb0RCIGNvbm5lY3Rpb24gZXJyb3I6ICcgKyBlcnIpXG4gIHByb2Nlc3MuZXhpdCgtMSlcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22\n")},function(module,exports){eval('module.exports = require("babel-runtime/core-js/object/keys");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXNcIj9jYTc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n')},function(module,exports){eval('module.exports = require("bluebird");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJibHVlYmlyZFwiPzJjNmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = __webpack_require__(0);\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _cors = __webpack_require__(26);\n\nvar _cors2 = _interopRequireDefault(_cors);\n\nvar _compression = __webpack_require__(27);\n\nvar _compression2 = _interopRequireDefault(_compression);\n\nvar _morgan = __webpack_require__(28);\n\nvar _morgan2 = _interopRequireDefault(_morgan);\n\nvar _bodyParser = __webpack_require__(29);\n\nvar _bodyParser2 = _interopRequireDefault(_bodyParser);\n\nvar _querymen = __webpack_require__(2);\n\nvar _bodymen = __webpack_require__(3);\n\nvar _config = __webpack_require__(7);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (apiRoot, routes) {\n  var app = (0, _express2.default)();\n\n  /* istanbul ignore next */\n  if (_config.env === 'production' || _config.env === 'development') {\n    app.use((0, _cors2.default)());\n    app.use((0, _compression2.default)());\n    app.use((0, _morgan2.default)('dev'));\n  }\n\n  app.use(_bodyParser2.default.urlencoded({ extended: false }));\n  app.use(_bodyParser2.default.json());\n  app.use(apiRoot, routes);\n  app.use((0, _querymen.errorHandler)());\n  app.use((0, _bodymen.errorHandler)());\n\n  return app;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvZXhwcmVzcy9pbmRleC5qcz8zYWE4Il0sIm5hbWVzIjpbImFwaVJvb3QiLCJyb3V0ZXMiLCJhcHAiLCJlbnYiLCJ1c2UiLCJib2R5UGFyc2VyIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUNBOztBQUNBOzs7O2tCQUVlLFVBQUNBLE9BQUQsRUFBVUMsTUFBVixFQUFxQjtBQUNsQyxNQUFNQyxNQUFNLHdCQUFaOztBQUVBO0FBQ0EsTUFBSUMsZ0JBQVEsWUFBUixJQUF3QkEsZ0JBQVEsYUFBcEMsRUFBbUQ7QUFDakRELFFBQUlFLEdBQUosQ0FBUSxxQkFBUjtBQUNBRixRQUFJRSxHQUFKLENBQVEsNEJBQVI7QUFDQUYsUUFBSUUsR0FBSixDQUFRLHNCQUFPLEtBQVAsQ0FBUjtBQUNEOztBQUVERixNQUFJRSxHQUFKLENBQVFDLHFCQUFXQyxVQUFYLENBQXNCLEVBQUVDLFVBQVUsS0FBWixFQUF0QixDQUFSO0FBQ0FMLE1BQUlFLEdBQUosQ0FBUUMscUJBQVdHLElBQVgsRUFBUjtBQUNBTixNQUFJRSxHQUFKLENBQVFKLE9BQVIsRUFBaUJDLE1BQWpCO0FBQ0FDLE1BQUlFLEdBQUosQ0FBUSw2QkFBUjtBQUNBRixNQUFJRSxHQUFKLENBQVEsNEJBQVI7O0FBRUEsU0FBT0YsR0FBUDtBQUNELEMiLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycydcbmltcG9ydCBjb21wcmVzc2lvbiBmcm9tICdjb21wcmVzc2lvbidcbmltcG9ydCBtb3JnYW4gZnJvbSAnbW9yZ2FuJ1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInXG5pbXBvcnQgeyBlcnJvckhhbmRsZXIgYXMgcXVlcnlFcnJvckhhbmRsZXIgfSBmcm9tICdxdWVyeW1lbidcbmltcG9ydCB7IGVycm9ySGFuZGxlciBhcyBib2R5RXJyb3JIYW5kbGVyIH0gZnJvbSAnYm9keW1lbidcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2NvbmZpZydcblxuZXhwb3J0IGRlZmF1bHQgKGFwaVJvb3QsIHJvdXRlcykgPT4ge1xuICBjb25zdCBhcHAgPSBleHByZXNzKClcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoZW52ID09PSAncHJvZHVjdGlvbicgfHwgZW52ID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgYXBwLnVzZShjb3JzKCkpXG4gICAgYXBwLnVzZShjb21wcmVzc2lvbigpKVxuICAgIGFwcC51c2UobW9yZ2FuKCdkZXYnKSlcbiAgfVxuXG4gIGFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKVxuICBhcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxuICBhcHAudXNlKGFwaVJvb3QsIHJvdXRlcylcbiAgYXBwLnVzZShxdWVyeUVycm9ySGFuZGxlcigpKVxuICBhcHAudXNlKGJvZHlFcnJvckhhbmRsZXIoKSlcblxuICByZXR1cm4gYXBwXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///25\n")},function(module,exports){eval('module.exports = require("cors");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjb3JzXCI/N2U5ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcnNcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26\n')},function(module,exports){eval('module.exports = require("compression");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjb21wcmVzc2lvblwiP2Y3OTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb21wcmVzc2lvblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///27\n')},function(module,exports){eval('module.exports = require("morgan");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb3JnYW5cIj8zMjA2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW9yZ2FuXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///28\n')},function(module,exports){eval('module.exports = require("body-parser");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiPzgxODgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib2R5LXBhcnNlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///29\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = __webpack_require__(0);\n\nvar _article = __webpack_require__(10);\n\nvar _article2 = _interopRequireDefault(_article);\n\nvar _category = __webpack_require__(8);\n\nvar _category2 = _interopRequireDefault(_category);\n\nvar _tag = __webpack_require__(9);\n\nvar _tag2 = _interopRequireDefault(_tag);\n\nvar _comment = __webpack_require__(11);\n\nvar _comment2 = _interopRequireDefault(_comment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar router = new _express.Router();\n\nrouter.use('/articles', _article2.default);\nrouter.use('/categories', _category2.default);\nrouter.use('/tags', _tag2.default);\nrouter.use('/comments', _comment2.default);\n\n/**\n * @apiDefine master Master access only\n * You must pass `access_token` parameter or a Bearer Token authorization header\n * to access this endpoint.\n */\n/**\n * @apiDefine admin Admin access only\n * You must pass `access_token` parameter or a Bearer Token authorization header\n * to access this endpoint.\n */\n/**\n * @apiDefine user User access only\n * You must pass `access_token` parameter or a Bearer Token authorization header\n * to access this endpoint.\n */\n/**\n * @apiDefine listParams\n * @apiParam {String} [q] Query to search.\n * @apiParam {Number{1..30}} [page=1] Page number.\n * @apiParam {Number{1..100}} [limit=30] Amount of returned items.\n * @apiParam {String[]} [sort=-createdAt] Order of returned items.\n * @apiParam {String[]} [fields] Fields to be returned.\n */\n\nexports.default = router;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2luZGV4LmpzPzM2NWMiXSwibmFtZXMiOlsicm91dGVyIiwiUm91dGVyIiwidXNlIiwiYXJ0aWNsZSIsImNhdGVnb3J5IiwidGFnIiwiY29tbWVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLFNBQVMsSUFBSUMsZUFBSixFQUFmOztBQUVBRCxPQUFPRSxHQUFQLENBQVcsV0FBWCxFQUF3QkMsaUJBQXhCO0FBQ0FILE9BQU9FLEdBQVAsQ0FBVyxhQUFYLEVBQTBCRSxrQkFBMUI7QUFDQUosT0FBT0UsR0FBUCxDQUFXLE9BQVgsRUFBb0JHLGFBQXBCO0FBQ0FMLE9BQU9FLEdBQVAsQ0FBVyxXQUFYLEVBQXdCSSxpQkFBeEI7O0FBRUE7Ozs7O0FBS0E7Ozs7O0FBS0E7Ozs7O0FBS0E7Ozs7Ozs7OztrQkFTZU4sTSIsImZpbGUiOiIzMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgYXJ0aWNsZSBmcm9tICcuL2FydGljbGUnXG5pbXBvcnQgY2F0ZWdvcnkgZnJvbSAnLi9jYXRlZ29yeSdcbmltcG9ydCB0YWcgZnJvbSAnLi90YWcnXG5pbXBvcnQgY29tbWVudCBmcm9tICcuL2NvbW1lbnQnXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxuXG5yb3V0ZXIudXNlKCcvYXJ0aWNsZXMnLCBhcnRpY2xlKVxucm91dGVyLnVzZSgnL2NhdGVnb3JpZXMnLCBjYXRlZ29yeSlcbnJvdXRlci51c2UoJy90YWdzJywgdGFnKVxucm91dGVyLnVzZSgnL2NvbW1lbnRzJywgY29tbWVudClcblxuLyoqXG4gKiBAYXBpRGVmaW5lIG1hc3RlciBNYXN0ZXIgYWNjZXNzIG9ubHlcbiAqIFlvdSBtdXN0IHBhc3MgYGFjY2Vzc190b2tlbmAgcGFyYW1ldGVyIG9yIGEgQmVhcmVyIFRva2VuIGF1dGhvcml6YXRpb24gaGVhZGVyXG4gKiB0byBhY2Nlc3MgdGhpcyBlbmRwb2ludC5cbiAqL1xuLyoqXG4gKiBAYXBpRGVmaW5lIGFkbWluIEFkbWluIGFjY2VzcyBvbmx5XG4gKiBZb3UgbXVzdCBwYXNzIGBhY2Nlc3NfdG9rZW5gIHBhcmFtZXRlciBvciBhIEJlYXJlciBUb2tlbiBhdXRob3JpemF0aW9uIGhlYWRlclxuICogdG8gYWNjZXNzIHRoaXMgZW5kcG9pbnQuXG4gKi9cbi8qKlxuICogQGFwaURlZmluZSB1c2VyIFVzZXIgYWNjZXNzIG9ubHlcbiAqIFlvdSBtdXN0IHBhc3MgYGFjY2Vzc190b2tlbmAgcGFyYW1ldGVyIG9yIGEgQmVhcmVyIFRva2VuIGF1dGhvcml6YXRpb24gaGVhZGVyXG4gKiB0byBhY2Nlc3MgdGhpcyBlbmRwb2ludC5cbiAqL1xuLyoqXG4gKiBAYXBpRGVmaW5lIGxpc3RQYXJhbXNcbiAqIEBhcGlQYXJhbSB7U3RyaW5nfSBbcV0gUXVlcnkgdG8gc2VhcmNoLlxuICogQGFwaVBhcmFtIHtOdW1iZXJ7MS4uMzB9fSBbcGFnZT0xXSBQYWdlIG51bWJlci5cbiAqIEBhcGlQYXJhbSB7TnVtYmVyezEuLjEwMH19IFtsaW1pdD0zMF0gQW1vdW50IG9mIHJldHVybmVkIGl0ZW1zLlxuICogQGFwaVBhcmFtIHtTdHJpbmdbXX0gW3NvcnQ9LWNyZWF0ZWRBdF0gT3JkZXIgb2YgcmV0dXJuZWQgaXRlbXMuXG4gKiBAYXBpUGFyYW0ge1N0cmluZ1tdfSBbZmllbGRzXSBGaWVsZHMgdG8gYmUgcmV0dXJuZWQuXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///30\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.schema = undefined;\n\nvar _extends2 = __webpack_require__(4);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _mongoose = __webpack_require__(1);\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _crawler = __webpack_require__(32);\n\nvar _crawler2 = _interopRequireDefault(_crawler);\n\nvar _category = __webpack_require__(8);\n\nvar _tag = __webpack_require__(9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar articleSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    trim: true,\n    unique: true\n  },\n  desc: {\n    type: String,\n    trim: true\n  },\n  content: {\n    type: String,\n    trim: true\n  },\n  thumb: {\n    type: String,\n    trim: true\n  },\n  time: {\n    type: Date\n  },\n  source: {\n    name: String,\n    href: String\n  },\n  author: {\n    type: String,\n    trim: true\n  },\n  tags: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'Tag'\n  }],\n  category: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'Category'\n  }\n}, {\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: function transform(obj, ret) {\n      delete ret._id;\n    }\n  }\n});\n\narticleSchema.methods = {\n  view: function view(full) {\n    var view = {\n      // simple view\n      id: this.id,\n      title: this.title,\n      desc: this.desc,\n      thumb: this.thumb,\n      category: this.category,\n      time: this.time,\n      author: this.author,\n      createdAt: this.createdAt,\n      updatedAt: this.updatedAt,\n      tags: this.tags\n\n    };\n\n    return full ? (0, _extends3.default)({}, view, {\n      content: this.content,\n      source: this.source\n      // add properties for a full view\n    }) : view;\n  }\n};\n\nvar model = _mongoose2.default.model('Article', articleSchema);\n\n// model.count().then(count => {\n//   if (count > 150) return;\n//   var cDetail = new Crawler({\n//     maxConnections: 1,\n//     callback: async function (error, res, done) {\n//       if (error) {\n//         console.log(error);\n//       } else {\n//         var $ = res.$;\n//         const title = $('h1.kbwc-title')\n//           .text()\n//           .trim()\n//         const desc = $('h2.knc-sapo')\n//           .text()\n//           .trim()\n//         const content = $('div.knc-content')\n//           .html()\n//           .trim()\n//         const thumb = $('meta[property=\"og:image\"]').attr('content');\n\n//         const categoryName = $('li.active span[itemprop=name]').text();\n//         const author = $('span.kbwcm-author').text().trim();\n\n//         var source = {}\n//         source.name = $('span.kbwcm-source a[target=\"_blank\"]').text();\n//         source.href = $('span.kbwcm-source a[target=\"_blank\"]').attr('href');\n\n//         var time = $('span.kbwcm-time').attr('title');\n//         var tagsNodes = $('li.kli');\n//         var tags = []\n//         tagsNodes.each(async function (i, e) {\n//           var tagName = $(this).children().attr('title');\n\n\n//           var ts = await Tag.find({\n//             name: tagName\n//           });\n//           var foundTag = ts[0];\n//           if (!foundTag) foundTag = await Tag.create({\n//             name: tagName\n//           });\n//           tags.push(foundTag._id)\n//           if (tags.length === tagsNodes.length) {\n//             console.log(tags)\n//             Category.find({\n//               name: categoryName\n//             }).then(rs => {\n//               if (rs.length > 0) {\n//                 var cate = rs[0];\n//                 model.create({\n//                   title,\n//                   desc,\n//                   content,\n//                   thumb,\n//                   category: cate._id,\n//                   source,\n//                   author,\n//                   time,\n//                   tags\n//                 })\n//               } else Category.create({\n//                 name: categoryName\n//               }).then((cate) => {\n//                 model.create({\n//                   title,\n//                   desc,\n//                   content,\n//                   thumb,\n//                   category: cate._id,\n//                   source,\n//                   author,\n//                   time,\n//                   tags\n//                 })\n//               })\n//             })\n//           }\n//         })\n\n\n//         // console.log(\"tags\", tags)\n\n\n//         // model.create({title, desc, content, thumb})\n\n//       }\n//       done();\n//     }\n//   })\n\n//   var c = new Crawler({\n//     maxConnections: 1,\n//     callback: function (error, res, done) {\n//       if (error) {\n//         console.log(error);\n//       } else {\n//         var $ = res.$;\n//         const nodes = $(\"h4.knswli-title\")\n\n//         nodes.each(function (i, e) {\n\n//           const cNew = {\n//             title: \"\",\n//             url: \"\",\n//             desc: \"\",\n//             content: \"\"\n//           }\n//           var a = $(this);\n//           cNew.url = a\n//             .children()\n//             .attr('href')\n//           cNew.title = a.text()\n//           // if (i === 0)\n//           cDetail.queue(`http://genk.vn${cNew.url}`)\n//         })\n\n//       }\n//       done();\n//     }\n//   });\n\n//   c.queue([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, ].map(e => `http://genk.vn/ajax-home/page-${e}/20181118221236016__20181127122608126__2018112612461347__20181127035753783__20181127102829236.chn`));\n// })\n\nvar schema = exports.schema = model.schema;\nexports.default = model;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2FydGljbGUvbW9kZWwuanM/NWVmMCJdLCJuYW1lcyI6WyJhcnRpY2xlU2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwidHJpbSIsInVuaXF1ZSIsImRlc2MiLCJjb250ZW50IiwidGh1bWIiLCJ0aW1lIiwiRGF0ZSIsInNvdXJjZSIsIm5hbWUiLCJocmVmIiwiYXV0aG9yIiwidGFncyIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJjYXRlZ29yeSIsInRpbWVzdGFtcHMiLCJ0b0pTT04iLCJ2aXJ0dWFscyIsInRyYW5zZm9ybSIsIm9iaiIsInJldCIsIl9pZCIsIm1ldGhvZHMiLCJ2aWV3IiwiZnVsbCIsImlkIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwibW9kZWwiLCJtb25nb29zZSIsInNjaGVtYSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUlBOzs7O0FBQ0E7O0FBR0E7Ozs7QUFJQSxJQUFNQSxnQkFBZ0IsSUFBSUMsZ0JBQUosQ0FBVztBQUMvQkMsU0FBTztBQUNMQyxVQUFNQyxNQUREO0FBRUxDLFVBQU0sSUFGRDtBQUdMQyxZQUFRO0FBSEgsR0FEd0I7QUFNL0JDLFFBQU07QUFDSkosVUFBTUMsTUFERjtBQUVKQyxVQUFNO0FBRkYsR0FOeUI7QUFVL0JHLFdBQVM7QUFDUEwsVUFBTUMsTUFEQztBQUVQQyxVQUFNO0FBRkMsR0FWc0I7QUFjL0JJLFNBQU87QUFDTE4sVUFBTUMsTUFERDtBQUVMQyxVQUFNO0FBRkQsR0Fkd0I7QUFrQi9CSyxRQUFNO0FBQ0pQLFVBQU1RO0FBREYsR0FsQnlCO0FBcUIvQkMsVUFBUTtBQUNOQyxVQUFNVCxNQURBO0FBRU5VLFVBQU1WO0FBRkEsR0FyQnVCO0FBeUIvQlcsVUFBUTtBQUNOWixVQUFNQyxNQURBO0FBRU5DLFVBQU07QUFGQSxHQXpCdUI7QUE2Qi9CVyxRQUFNLENBQUM7QUFDTGIsVUFBTUYsaUJBQU9nQixLQUFQLENBQWFDLFFBRGQ7QUFFTEMsU0FBSztBQUZBLEdBQUQsQ0E3QnlCO0FBaUMvQkMsWUFBVTtBQUNSakIsVUFBTUYsaUJBQU9nQixLQUFQLENBQWFDLFFBRFg7QUFFUkMsU0FBSztBQUZHO0FBakNxQixDQUFYLEVBcUNuQjtBQUNERSxjQUFZLElBRFg7QUFFREMsVUFBUTtBQUNOQyxjQUFVLElBREo7QUFFTkMsZUFBVyxtQkFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDdkIsYUFBT0EsSUFBSUMsR0FBWDtBQUNEO0FBSks7QUFGUCxDQXJDbUIsQ0FBdEI7O0FBK0NBM0IsY0FBYzRCLE9BQWQsR0FBd0I7QUFDdEJDLE1BRHNCLGdCQUNqQkMsSUFEaUIsRUFDWDtBQUNULFFBQU1ELE9BQU87QUFDWDtBQUNBRSxVQUFJLEtBQUtBLEVBRkU7QUFHWDdCLGFBQU8sS0FBS0EsS0FIRDtBQUlYSyxZQUFNLEtBQUtBLElBSkE7QUFLWEUsYUFBTyxLQUFLQSxLQUxEO0FBTVhXLGdCQUFVLEtBQUtBLFFBTko7QUFPWFYsWUFBTSxLQUFLQSxJQVBBO0FBUVhLLGNBQVEsS0FBS0EsTUFSRjtBQVNYaUIsaUJBQVcsS0FBS0EsU0FUTDtBQVVYQyxpQkFBVyxLQUFLQSxTQVZMO0FBV1hqQixZQUFNLEtBQUtBOztBQVhBLEtBQWI7O0FBZUEsV0FBT2Msa0NBQ0ZELElBREU7QUFFTHJCLGVBQVMsS0FBS0EsT0FGVDtBQUdMSSxjQUFRLEtBQUtBO0FBQ2I7QUFKSyxTQUtIaUIsSUFMSjtBQU1EO0FBdkJxQixDQUF4Qjs7QUEwQkEsSUFBTUssUUFBUUMsbUJBQVNELEtBQVQsQ0FBZSxTQUFmLEVBQTBCbEMsYUFBMUIsQ0FBZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7O0FBS0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRU8sSUFBTW9DLDBCQUFTRixNQUFNRSxNQUFyQjtrQkFDUUYsSyIsImZpbGUiOiIzMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwge1xuICBTY2hlbWFcbn0gZnJvbSAnbW9uZ29vc2UnXG5cbmltcG9ydCBDcmF3bGVyIGZyb20gJ2NyYXdsZXInO1xuaW1wb3J0IHtcbiAgQ2F0ZWdvcnlcbn0gZnJvbSAnLi4vY2F0ZWdvcnknXG5pbXBvcnQge1xuICBUYWdcbn0gZnJvbSAnLi4vdGFnJztcblxuY29uc3QgYXJ0aWNsZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB0aXRsZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB0cmltOiB0cnVlLFxuICAgIHVuaXF1ZTogdHJ1ZVxuICB9LFxuICBkZXNjOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHRyaW06IHRydWVcbiAgfSxcbiAgY29udGVudDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB0cmltOiB0cnVlXG4gIH0sXG4gIHRodW1iOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHRyaW06IHRydWVcbiAgfSxcbiAgdGltZToge1xuICAgIHR5cGU6IERhdGUsXG4gIH0sXG4gIHNvdXJjZToge1xuICAgIG5hbWU6IFN0cmluZyxcbiAgICBocmVmOiBTdHJpbmdcbiAgfSxcbiAgYXV0aG9yOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHRyaW06IHRydWVcbiAgfSxcbiAgdGFnczogW3tcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgcmVmOiAnVGFnJyxcbiAgfV0sXG4gIGNhdGVnb3J5OiB7XG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIHJlZjogJ0NhdGVnb3J5JyxcbiAgfSxcbn0sIHtcbiAgdGltZXN0YW1wczogdHJ1ZSxcbiAgdG9KU09OOiB7XG4gICAgdmlydHVhbHM6IHRydWUsXG4gICAgdHJhbnNmb3JtOiAob2JqLCByZXQpID0+IHtcbiAgICAgIGRlbGV0ZSByZXQuX2lkXG4gICAgfVxuICB9XG59KVxuXG5hcnRpY2xlU2NoZW1hLm1ldGhvZHMgPSB7XG4gIHZpZXcoZnVsbCkge1xuICAgIGNvbnN0IHZpZXcgPSB7XG4gICAgICAvLyBzaW1wbGUgdmlld1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgIGRlc2M6IHRoaXMuZGVzYyxcbiAgICAgIHRodW1iOiB0aGlzLnRodW1iLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICB0aW1lOiB0aGlzLnRpbWUsXG4gICAgICBhdXRob3I6IHRoaXMuYXV0aG9yLFxuICAgICAgY3JlYXRlZEF0OiB0aGlzLmNyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRBdDogdGhpcy51cGRhdGVkQXQsXG4gICAgICB0YWdzOiB0aGlzLnRhZ3NcblxuICAgIH1cblxuICAgIHJldHVybiBmdWxsID8ge1xuICAgICAgLi4udmlldyxcbiAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudCxcbiAgICAgIHNvdXJjZTogdGhpcy5zb3VyY2UsXG4gICAgICAvLyBhZGQgcHJvcGVydGllcyBmb3IgYSBmdWxsIHZpZXdcbiAgICB9IDogdmlld1xuICB9XG59XG5cbmNvbnN0IG1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ0FydGljbGUnLCBhcnRpY2xlU2NoZW1hKVxuXG4vLyBtb2RlbC5jb3VudCgpLnRoZW4oY291bnQgPT4ge1xuLy8gICBpZiAoY291bnQgPiAxNTApIHJldHVybjtcbi8vICAgdmFyIGNEZXRhaWwgPSBuZXcgQ3Jhd2xlcih7XG4vLyAgICAgbWF4Q29ubmVjdGlvbnM6IDEsXG4vLyAgICAgY2FsbGJhY2s6IGFzeW5jIGZ1bmN0aW9uIChlcnJvciwgcmVzLCBkb25lKSB7XG4vLyAgICAgICBpZiAoZXJyb3IpIHtcbi8vICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuLy8gICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgdmFyICQgPSByZXMuJDtcbi8vICAgICAgICAgY29uc3QgdGl0bGUgPSAkKCdoMS5rYndjLXRpdGxlJylcbi8vICAgICAgICAgICAudGV4dCgpXG4vLyAgICAgICAgICAgLnRyaW0oKVxuLy8gICAgICAgICBjb25zdCBkZXNjID0gJCgnaDIua25jLXNhcG8nKVxuLy8gICAgICAgICAgIC50ZXh0KClcbi8vICAgICAgICAgICAudHJpbSgpXG4vLyAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSAkKCdkaXYua25jLWNvbnRlbnQnKVxuLy8gICAgICAgICAgIC5odG1sKClcbi8vICAgICAgICAgICAudHJpbSgpXG4vLyAgICAgICAgIGNvbnN0IHRodW1iID0gJCgnbWV0YVtwcm9wZXJ0eT1cIm9nOmltYWdlXCJdJykuYXR0cignY29udGVudCcpO1xuXG4vLyAgICAgICAgIGNvbnN0IGNhdGVnb3J5TmFtZSA9ICQoJ2xpLmFjdGl2ZSBzcGFuW2l0ZW1wcm9wPW5hbWVdJykudGV4dCgpO1xuLy8gICAgICAgICBjb25zdCBhdXRob3IgPSAkKCdzcGFuLmtid2NtLWF1dGhvcicpLnRleHQoKS50cmltKCk7XG5cbi8vICAgICAgICAgdmFyIHNvdXJjZSA9IHt9XG4vLyAgICAgICAgIHNvdXJjZS5uYW1lID0gJCgnc3Bhbi5rYndjbS1zb3VyY2UgYVt0YXJnZXQ9XCJfYmxhbmtcIl0nKS50ZXh0KCk7XG4vLyAgICAgICAgIHNvdXJjZS5ocmVmID0gJCgnc3Bhbi5rYndjbS1zb3VyY2UgYVt0YXJnZXQ9XCJfYmxhbmtcIl0nKS5hdHRyKCdocmVmJyk7XG5cbi8vICAgICAgICAgdmFyIHRpbWUgPSAkKCdzcGFuLmtid2NtLXRpbWUnKS5hdHRyKCd0aXRsZScpO1xuLy8gICAgICAgICB2YXIgdGFnc05vZGVzID0gJCgnbGkua2xpJyk7XG4vLyAgICAgICAgIHZhciB0YWdzID0gW11cbi8vICAgICAgICAgdGFnc05vZGVzLmVhY2goYXN5bmMgZnVuY3Rpb24gKGksIGUpIHtcbi8vICAgICAgICAgICB2YXIgdGFnTmFtZSA9ICQodGhpcykuY2hpbGRyZW4oKS5hdHRyKCd0aXRsZScpO1xuXG5cbi8vICAgICAgICAgICB2YXIgdHMgPSBhd2FpdCBUYWcuZmluZCh7XG4vLyAgICAgICAgICAgICBuYW1lOiB0YWdOYW1lXG4vLyAgICAgICAgICAgfSk7XG4vLyAgICAgICAgICAgdmFyIGZvdW5kVGFnID0gdHNbMF07XG4vLyAgICAgICAgICAgaWYgKCFmb3VuZFRhZykgZm91bmRUYWcgPSBhd2FpdCBUYWcuY3JlYXRlKHtcbi8vICAgICAgICAgICAgIG5hbWU6IHRhZ05hbWVcbi8vICAgICAgICAgICB9KTtcbi8vICAgICAgICAgICB0YWdzLnB1c2goZm91bmRUYWcuX2lkKVxuLy8gICAgICAgICAgIGlmICh0YWdzLmxlbmd0aCA9PT0gdGFnc05vZGVzLmxlbmd0aCkge1xuLy8gICAgICAgICAgICAgY29uc29sZS5sb2codGFncylcbi8vICAgICAgICAgICAgIENhdGVnb3J5LmZpbmQoe1xuLy8gICAgICAgICAgICAgICBuYW1lOiBjYXRlZ29yeU5hbWVcbi8vICAgICAgICAgICAgIH0pLnRoZW4ocnMgPT4ge1xuLy8gICAgICAgICAgICAgICBpZiAocnMubGVuZ3RoID4gMCkge1xuLy8gICAgICAgICAgICAgICAgIHZhciBjYXRlID0gcnNbMF07XG4vLyAgICAgICAgICAgICAgICAgbW9kZWwuY3JlYXRlKHtcbi8vICAgICAgICAgICAgICAgICAgIHRpdGxlLFxuLy8gICAgICAgICAgICAgICAgICAgZGVzYyxcbi8vICAgICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4vLyAgICAgICAgICAgICAgICAgICB0aHVtYixcbi8vICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlLl9pZCxcbi8vICAgICAgICAgICAgICAgICAgIHNvdXJjZSxcbi8vICAgICAgICAgICAgICAgICAgIGF1dGhvcixcbi8vICAgICAgICAgICAgICAgICAgIHRpbWUsXG4vLyAgICAgICAgICAgICAgICAgICB0YWdzXG4vLyAgICAgICAgICAgICAgICAgfSlcbi8vICAgICAgICAgICAgICAgfSBlbHNlIENhdGVnb3J5LmNyZWF0ZSh7XG4vLyAgICAgICAgICAgICAgICAgbmFtZTogY2F0ZWdvcnlOYW1lXG4vLyAgICAgICAgICAgICAgIH0pLnRoZW4oKGNhdGUpID0+IHtcbi8vICAgICAgICAgICAgICAgICBtb2RlbC5jcmVhdGUoe1xuLy8gICAgICAgICAgICAgICAgICAgdGl0bGUsXG4vLyAgICAgICAgICAgICAgICAgICBkZXNjLFxuLy8gICAgICAgICAgICAgICAgICAgY29udGVudCxcbi8vICAgICAgICAgICAgICAgICAgIHRodW1iLFxuLy8gICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGUuX2lkLFxuLy8gICAgICAgICAgICAgICAgICAgc291cmNlLFxuLy8gICAgICAgICAgICAgICAgICAgYXV0aG9yLFxuLy8gICAgICAgICAgICAgICAgICAgdGltZSxcbi8vICAgICAgICAgICAgICAgICAgIHRhZ3Ncbi8vICAgICAgICAgICAgICAgICB9KVxuLy8gICAgICAgICAgICAgICB9KVxuLy8gICAgICAgICAgICAgfSlcbi8vICAgICAgICAgICB9XG4vLyAgICAgICAgIH0pXG5cblxuLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyhcInRhZ3NcIiwgdGFncylcblxuXG5cblxuLy8gICAgICAgICAvLyBtb2RlbC5jcmVhdGUoe3RpdGxlLCBkZXNjLCBjb250ZW50LCB0aHVtYn0pXG5cbi8vICAgICAgIH1cbi8vICAgICAgIGRvbmUoKTtcbi8vICAgICB9XG4vLyAgIH0pXG5cbi8vICAgdmFyIGMgPSBuZXcgQ3Jhd2xlcih7XG4vLyAgICAgbWF4Q29ubmVjdGlvbnM6IDEsXG4vLyAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChlcnJvciwgcmVzLCBkb25lKSB7XG4vLyAgICAgICBpZiAoZXJyb3IpIHtcbi8vICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuLy8gICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgdmFyICQgPSByZXMuJDtcbi8vICAgICAgICAgY29uc3Qgbm9kZXMgPSAkKFwiaDQua25zd2xpLXRpdGxlXCIpXG5cbi8vICAgICAgICAgbm9kZXMuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuXG4vLyAgICAgICAgICAgY29uc3QgY05ldyA9IHtcbi8vICAgICAgICAgICAgIHRpdGxlOiBcIlwiLFxuLy8gICAgICAgICAgICAgdXJsOiBcIlwiLFxuLy8gICAgICAgICAgICAgZGVzYzogXCJcIixcbi8vICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCJcbi8vICAgICAgICAgICB9XG4vLyAgICAgICAgICAgdmFyIGEgPSAkKHRoaXMpO1xuLy8gICAgICAgICAgIGNOZXcudXJsID0gYVxuLy8gICAgICAgICAgICAgLmNoaWxkcmVuKClcbi8vICAgICAgICAgICAgIC5hdHRyKCdocmVmJylcbi8vICAgICAgICAgICBjTmV3LnRpdGxlID0gYS50ZXh0KClcbi8vICAgICAgICAgICAvLyBpZiAoaSA9PT0gMClcbi8vICAgICAgICAgICBjRGV0YWlsLnF1ZXVlKGBodHRwOi8vZ2Vuay52biR7Y05ldy51cmx9YClcbi8vICAgICAgICAgfSlcblxuLy8gICAgICAgfVxuLy8gICAgICAgZG9uZSgpO1xuLy8gICAgIH1cbi8vICAgfSk7XG5cbi8vICAgYy5xdWV1ZShbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgXS5tYXAoZSA9PiBgaHR0cDovL2dlbmsudm4vYWpheC1ob21lL3BhZ2UtJHtlfS8yMDE4MTExODIyMTIzNjAxNl9fMjAxODExMjcxMjI2MDgxMjZfXzIwMTgxMTI2MTI0NjEzNDdfXzIwMTgxMTI3MDM1NzUzNzgzX18yMDE4MTEyNzEwMjgyOTIzNi5jaG5gKSk7XG4vLyB9KVxuXG5leHBvcnQgY29uc3Qgc2NoZW1hID0gbW9kZWwuc2NoZW1hXG5leHBvcnQgZGVmYXVsdCBtb2RlbDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///31\n")},function(module,exports){eval('module.exports = require("crawler");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjcmF3bGVyXCI/OTc5NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIzMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNyYXdsZXJcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///32\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.schema = undefined;\n\nvar _extends2 = __webpack_require__(4);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _mongoose = __webpack_require__(1);\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar categorySchema = new _mongoose.Schema({\n  name: {\n    type: String,\n    trim: true,\n    unique: true,\n    index: true\n  }\n}, {\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: function transform(obj, ret) {\n      delete ret._id;\n    }\n  }\n});\n\ncategorySchema.methods = {\n  view: function view(full) {\n    var view = {\n      // simple view\n      id: this.id,\n      name: this.name,\n      createdAt: this.createdAt,\n      updatedAt: this.updatedAt\n    };\n\n    return full ? (0, _extends3.default)({}, view) : view;\n  }\n};\n\nvar model = _mongoose2.default.model('Category', categorySchema);\n\nvar schema = exports.schema = model.schema;\nexports.default = model;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2NhdGVnb3J5L21vZGVsLmpzPzQyODIiXSwibmFtZXMiOlsiY2F0ZWdvcnlTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInRyaW0iLCJ1bmlxdWUiLCJpbmRleCIsInRpbWVzdGFtcHMiLCJ0b0pTT04iLCJ2aXJ0dWFscyIsInRyYW5zZm9ybSIsIm9iaiIsInJldCIsIl9pZCIsIm1ldGhvZHMiLCJ2aWV3IiwiZnVsbCIsImlkIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwibW9kZWwiLCJtb25nb29zZSIsInNjaGVtYSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0FBRUEsSUFBTUEsaUJBQWlCLElBQUlDLGdCQUFKLENBQVc7QUFDaENDLFFBQU07QUFDSkMsVUFBTUMsTUFERjtBQUVKQyxVQUFNLElBRkY7QUFHSkMsWUFBUSxJQUhKO0FBSUpDLFdBQU87QUFKSDtBQUQwQixDQUFYLEVBT3BCO0FBQ0RDLGNBQVksSUFEWDtBQUVEQyxVQUFRO0FBQ05DLGNBQVUsSUFESjtBQUVOQyxlQUFXLG1CQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUFFLGFBQU9BLElBQUlDLEdBQVg7QUFBZ0I7QUFGckM7QUFGUCxDQVBvQixDQUF2Qjs7QUFlQWQsZUFBZWUsT0FBZixHQUF5QjtBQUN2QkMsTUFEdUIsZ0JBQ2pCQyxJQURpQixFQUNYO0FBQ1YsUUFBTUQsT0FBTztBQUNYO0FBQ0FFLFVBQUksS0FBS0EsRUFGRTtBQUdYaEIsWUFBTSxLQUFLQSxJQUhBO0FBSVhpQixpQkFBVyxLQUFLQSxTQUpMO0FBS1hDLGlCQUFXLEtBQUtBO0FBTEwsS0FBYjs7QUFRQSxXQUFPSCxrQ0FDRkQsSUFERSxJQUdIQSxJQUhKO0FBSUQ7QUFkc0IsQ0FBekI7O0FBaUJBLElBQU1LLFFBQVFDLG1CQUFTRCxLQUFULENBQWUsVUFBZixFQUEyQnJCLGNBQTNCLENBQWQ7O0FBRU8sSUFBTXVCLDBCQUFTRixNQUFNRSxNQUFyQjtrQkFDUUYsSyIsImZpbGUiOiIzMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tICdtb25nb29zZSdcblxuY29uc3QgY2F0ZWdvcnlTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgbmFtZToge1xuICAgIHR5cGU6IFN0cmluZywgXG4gICAgdHJpbTogdHJ1ZSwgXG4gICAgdW5pcXVlOiB0cnVlLFxuICAgIGluZGV4OiB0cnVlXG4gIH1cbn0sIHtcbiAgdGltZXN0YW1wczogdHJ1ZSxcbiAgdG9KU09OOiB7XG4gICAgdmlydHVhbHM6IHRydWUsXG4gICAgdHJhbnNmb3JtOiAob2JqLCByZXQpID0+IHsgZGVsZXRlIHJldC5faWQgfVxuICB9XG59KVxuXG5jYXRlZ29yeVNjaGVtYS5tZXRob2RzID0ge1xuICB2aWV3IChmdWxsKSB7XG4gICAgY29uc3QgdmlldyA9IHtcbiAgICAgIC8vIHNpbXBsZSB2aWV3XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIGNyZWF0ZWRBdDogdGhpcy5jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkQXQ6IHRoaXMudXBkYXRlZEF0XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bGwgPyB7XG4gICAgICAuLi52aWV3XG4gICAgICAvLyBhZGQgcHJvcGVydGllcyBmb3IgYSBmdWxsIHZpZXdcbiAgICB9IDogdmlld1xuICB9XG59XG5cbmNvbnN0IG1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ0NhdGVnb3J5JywgY2F0ZWdvcnlTY2hlbWEpXG5cbmV4cG9ydCBjb25zdCBzY2hlbWEgPSBtb2RlbC5zY2hlbWFcbmV4cG9ydCBkZWZhdWx0IG1vZGVsXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///33\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.destroy = exports.update = exports.show = exports.index = exports.create = undefined;\n\nvar _assign = __webpack_require__(5);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _response = __webpack_require__(6);\n\nvar _ = __webpack_require__(8);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar create = exports.create = function create(_ref, res, next) {\n  var body = _ref.bodymen.body;\n  return _.Category.create(body).then(function (category) {\n    return category.view(true);\n  }).then((0, _response.success)(res, 201)).catch(next);\n};\n\nvar index = exports.index = function index(_ref2, res, next) {\n  var _ref2$querymen = _ref2.querymen,\n      query = _ref2$querymen.query,\n      select = _ref2$querymen.select,\n      cursor = _ref2$querymen.cursor;\n  return _.Category.count(query).then(function (count) {\n    return _.Category.find(query, select, cursor).then(function (categories) {\n      return {\n        count: count,\n        rows: categories.map(function (category) {\n          return category.view();\n        })\n      };\n    });\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar show = exports.show = function show(_ref3, res, next) {\n  var params = _ref3.params;\n  return _.Category.findById(params.id).then((0, _response.notFound)(res)).then(function (category) {\n    return category ? category.view() : null;\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar update = exports.update = function update(_ref4, res, next) {\n  var body = _ref4.bodymen.body,\n      params = _ref4.params;\n  return _.Category.findById(params.id).then((0, _response.notFound)(res)).then(function (category) {\n    return category ? (0, _assign2.default)(category, body).save() : null;\n  }).then(function (category) {\n    return category ? category.view(true) : null;\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar destroy = exports.destroy = function destroy(_ref5, res, next) {\n  var params = _ref5.params;\n  return _.Category.findById(params.id).then((0, _response.notFound)(res)).then(function (category) {\n    return category ? category.remove() : null;\n  }).then((0, _response.success)(res, 204)).catch(next);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2NhdGVnb3J5L2NvbnRyb2xsZXIuanM/YjBjYSJdLCJuYW1lcyI6WyJjcmVhdGUiLCJyZXMiLCJuZXh0IiwiYm9keSIsImJvZHltZW4iLCJDYXRlZ29yeSIsInRoZW4iLCJjYXRlZ29yeSIsInZpZXciLCJjYXRjaCIsImluZGV4IiwicXVlcnltZW4iLCJxdWVyeSIsInNlbGVjdCIsImN1cnNvciIsImNvdW50IiwiZmluZCIsImNhdGVnb3JpZXMiLCJyb3dzIiwibWFwIiwic2hvdyIsInBhcmFtcyIsImZpbmRCeUlkIiwiaWQiLCJ1cGRhdGUiLCJzYXZlIiwiZGVzdHJveSIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVPLElBQU1BLDBCQUFTLFNBQVRBLE1BQVMsT0FBd0JDLEdBQXhCLEVBQTZCQyxJQUE3QjtBQUFBLE1BQWNDLElBQWQsUUFBR0MsT0FBSCxDQUFjRCxJQUFkO0FBQUEsU0FDcEJFLFdBQVNMLE1BQVQsQ0FBZ0JHLElBQWhCLEVBQ0dHLElBREgsQ0FDUSxVQUFDQyxRQUFEO0FBQUEsV0FBY0EsU0FBU0MsSUFBVCxDQUFjLElBQWQsQ0FBZDtBQUFBLEdBRFIsRUFFR0YsSUFGSCxDQUVRLHVCQUFRTCxHQUFSLEVBQWEsR0FBYixDQUZSLEVBR0dRLEtBSEgsQ0FHU1AsSUFIVCxDQURvQjtBQUFBLENBQWY7O0FBTUEsSUFBTVEsd0JBQVEsU0FBUkEsS0FBUSxRQUEwQ1QsR0FBMUMsRUFBK0NDLElBQS9DO0FBQUEsNkJBQUdTLFFBQUg7QUFBQSxNQUFlQyxLQUFmLGtCQUFlQSxLQUFmO0FBQUEsTUFBc0JDLE1BQXRCLGtCQUFzQkEsTUFBdEI7QUFBQSxNQUE4QkMsTUFBOUIsa0JBQThCQSxNQUE5QjtBQUFBLFNBQ25CVCxXQUFTVSxLQUFULENBQWVILEtBQWYsRUFDR04sSUFESCxDQUNRO0FBQUEsV0FBU0QsV0FBU1csSUFBVCxDQUFjSixLQUFkLEVBQXFCQyxNQUFyQixFQUE2QkMsTUFBN0IsRUFDWlIsSUFEWSxDQUNQLFVBQUNXLFVBQUQ7QUFBQSxhQUFpQjtBQUNyQkYsb0JBRHFCO0FBRXJCRyxjQUFNRCxXQUFXRSxHQUFYLENBQWUsVUFBQ1osUUFBRDtBQUFBLGlCQUFjQSxTQUFTQyxJQUFULEVBQWQ7QUFBQSxTQUFmO0FBRmUsT0FBakI7QUFBQSxLQURPLENBQVQ7QUFBQSxHQURSLEVBT0dGLElBUEgsQ0FPUSx1QkFBUUwsR0FBUixDQVBSLEVBUUdRLEtBUkgsQ0FRU1AsSUFSVCxDQURtQjtBQUFBLENBQWQ7O0FBV0EsSUFBTWtCLHNCQUFPLFNBQVBBLElBQU8sUUFBYW5CLEdBQWIsRUFBa0JDLElBQWxCO0FBQUEsTUFBR21CLE1BQUgsU0FBR0EsTUFBSDtBQUFBLFNBQ2xCaEIsV0FBU2lCLFFBQVQsQ0FBa0JELE9BQU9FLEVBQXpCLEVBQ0dqQixJQURILENBQ1Esd0JBQVNMLEdBQVQsQ0FEUixFQUVHSyxJQUZILENBRVEsVUFBQ0MsUUFBRDtBQUFBLFdBQWNBLFdBQVdBLFNBQVNDLElBQVQsRUFBWCxHQUE2QixJQUEzQztBQUFBLEdBRlIsRUFHR0YsSUFISCxDQUdRLHVCQUFRTCxHQUFSLENBSFIsRUFJR1EsS0FKSCxDQUlTUCxJQUpULENBRGtCO0FBQUEsQ0FBYjs7QUFPQSxJQUFNc0IsMEJBQVMsU0FBVEEsTUFBUyxRQUFnQ3ZCLEdBQWhDLEVBQXFDQyxJQUFyQztBQUFBLE1BQWNDLElBQWQsU0FBR0MsT0FBSCxDQUFjRCxJQUFkO0FBQUEsTUFBc0JrQixNQUF0QixTQUFzQkEsTUFBdEI7QUFBQSxTQUNwQmhCLFdBQVNpQixRQUFULENBQWtCRCxPQUFPRSxFQUF6QixFQUNHakIsSUFESCxDQUNRLHdCQUFTTCxHQUFULENBRFIsRUFFR0ssSUFGSCxDQUVRLFVBQUNDLFFBQUQ7QUFBQSxXQUFjQSxXQUFXLHNCQUFjQSxRQUFkLEVBQXdCSixJQUF4QixFQUE4QnNCLElBQTlCLEVBQVgsR0FBa0QsSUFBaEU7QUFBQSxHQUZSLEVBR0duQixJQUhILENBR1EsVUFBQ0MsUUFBRDtBQUFBLFdBQWNBLFdBQVdBLFNBQVNDLElBQVQsQ0FBYyxJQUFkLENBQVgsR0FBaUMsSUFBL0M7QUFBQSxHQUhSLEVBSUdGLElBSkgsQ0FJUSx1QkFBUUwsR0FBUixDQUpSLEVBS0dRLEtBTEgsQ0FLU1AsSUFMVCxDQURvQjtBQUFBLENBQWY7O0FBUUEsSUFBTXdCLDRCQUFVLFNBQVZBLE9BQVUsUUFBYXpCLEdBQWIsRUFBa0JDLElBQWxCO0FBQUEsTUFBR21CLE1BQUgsU0FBR0EsTUFBSDtBQUFBLFNBQ3JCaEIsV0FBU2lCLFFBQVQsQ0FBa0JELE9BQU9FLEVBQXpCLEVBQ0dqQixJQURILENBQ1Esd0JBQVNMLEdBQVQsQ0FEUixFQUVHSyxJQUZILENBRVEsVUFBQ0MsUUFBRDtBQUFBLFdBQWNBLFdBQVdBLFNBQVNvQixNQUFULEVBQVgsR0FBK0IsSUFBN0M7QUFBQSxHQUZSLEVBR0dyQixJQUhILENBR1EsdUJBQVFMLEdBQVIsRUFBYSxHQUFiLENBSFIsRUFJR1EsS0FKSCxDQUlTUCxJQUpULENBRHFCO0FBQUEsQ0FBaEIiLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdWNjZXNzLCBub3RGb3VuZCB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3Jlc3BvbnNlLydcbmltcG9ydCB7IENhdGVnb3J5IH0gZnJvbSAnLidcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9ICh7IGJvZHltZW46IHsgYm9keSB9IH0sIHJlcywgbmV4dCkgPT5cbiAgQ2F0ZWdvcnkuY3JlYXRlKGJvZHkpXG4gICAgLnRoZW4oKGNhdGVnb3J5KSA9PiBjYXRlZ29yeS52aWV3KHRydWUpKVxuICAgIC50aGVuKHN1Y2Nlc3MocmVzLCAyMDEpKVxuICAgIC5jYXRjaChuZXh0KVxuXG5leHBvcnQgY29uc3QgaW5kZXggPSAoeyBxdWVyeW1lbjogeyBxdWVyeSwgc2VsZWN0LCBjdXJzb3IgfSB9LCByZXMsIG5leHQpID0+XG4gIENhdGVnb3J5LmNvdW50KHF1ZXJ5KVxuICAgIC50aGVuKGNvdW50ID0+IENhdGVnb3J5LmZpbmQocXVlcnksIHNlbGVjdCwgY3Vyc29yKVxuICAgICAgLnRoZW4oKGNhdGVnb3JpZXMpID0+ICh7XG4gICAgICAgIGNvdW50LFxuICAgICAgICByb3dzOiBjYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IGNhdGVnb3J5LnZpZXcoKSlcbiAgICAgIH0pKVxuICAgIClcbiAgICAudGhlbihzdWNjZXNzKHJlcykpXG4gICAgLmNhdGNoKG5leHQpXG5cbmV4cG9ydCBjb25zdCBzaG93ID0gKHsgcGFyYW1zIH0sIHJlcywgbmV4dCkgPT5cbiAgQ2F0ZWdvcnkuZmluZEJ5SWQocGFyYW1zLmlkKVxuICAgIC50aGVuKG5vdEZvdW5kKHJlcykpXG4gICAgLnRoZW4oKGNhdGVnb3J5KSA9PiBjYXRlZ29yeSA/IGNhdGVnb3J5LnZpZXcoKSA6IG51bGwpXG4gICAgLnRoZW4oc3VjY2VzcyhyZXMpKVxuICAgIC5jYXRjaChuZXh0KVxuXG5leHBvcnQgY29uc3QgdXBkYXRlID0gKHsgYm9keW1lbjogeyBib2R5IH0sIHBhcmFtcyB9LCByZXMsIG5leHQpID0+XG4gIENhdGVnb3J5LmZpbmRCeUlkKHBhcmFtcy5pZClcbiAgICAudGhlbihub3RGb3VuZChyZXMpKVxuICAgIC50aGVuKChjYXRlZ29yeSkgPT4gY2F0ZWdvcnkgPyBPYmplY3QuYXNzaWduKGNhdGVnb3J5LCBib2R5KS5zYXZlKCkgOiBudWxsKVxuICAgIC50aGVuKChjYXRlZ29yeSkgPT4gY2F0ZWdvcnkgPyBjYXRlZ29yeS52aWV3KHRydWUpIDogbnVsbClcbiAgICAudGhlbihzdWNjZXNzKHJlcykpXG4gICAgLmNhdGNoKG5leHQpXG5cbmV4cG9ydCBjb25zdCBkZXN0cm95ID0gKHsgcGFyYW1zIH0sIHJlcywgbmV4dCkgPT5cbiAgQ2F0ZWdvcnkuZmluZEJ5SWQocGFyYW1zLmlkKVxuICAgIC50aGVuKG5vdEZvdW5kKHJlcykpXG4gICAgLnRoZW4oKGNhdGVnb3J5KSA9PiBjYXRlZ29yeSA/IGNhdGVnb3J5LnJlbW92ZSgpIDogbnVsbClcbiAgICAudGhlbihzdWNjZXNzKHJlcywgMjA0KSlcbiAgICAuY2F0Y2gobmV4dClcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///34\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.schema = undefined;\n\nvar _extends2 = __webpack_require__(4);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _mongoose = __webpack_require__(1);\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar tagSchema = new _mongoose.Schema({\n  name: {\n    type: String,\n    required: true,\n    unique: true,\n    trim: true,\n    index: true\n  }\n}, {\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: function transform(obj, ret) {\n      delete ret._id;\n    }\n  }\n});\n\ntagSchema.methods = {\n  view: function view(full) {\n    var view = {\n      // simple view\n      id: this.id,\n      name: this.name,\n      createdAt: this.createdAt,\n      updatedAt: this.updatedAt\n    };\n\n    return full ? (0, _extends3.default)({}, view) : view;\n  }\n};\n\nvar model = _mongoose2.default.model('Tag', tagSchema);\n\nvar schema = exports.schema = model.schema;\nexports.default = model;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3RhZy9tb2RlbC5qcz8zMjdiIl0sIm5hbWVzIjpbInRhZ1NjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJ0cmltIiwiaW5kZXgiLCJ0aW1lc3RhbXBzIiwidG9KU09OIiwidmlydHVhbHMiLCJ0cmFuc2Zvcm0iLCJvYmoiLCJyZXQiLCJfaWQiLCJtZXRob2RzIiwidmlldyIsImZ1bGwiLCJpZCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsIm1vZGVsIiwibW9uZ29vc2UiLCJzY2hlbWEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7Ozs7OztBQUVBLElBQU1BLFlBQVksSUFBSUMsZ0JBQUosQ0FBVztBQUMzQkMsUUFBTTtBQUNKQyxVQUFNQyxNQURGO0FBRUpDLGNBQVUsSUFGTjtBQUdKQyxZQUFRLElBSEo7QUFJSkMsVUFBTSxJQUpGO0FBS0pDLFdBQU87QUFMSDtBQURxQixDQUFYLEVBUWY7QUFDREMsY0FBWSxJQURYO0FBRURDLFVBQVE7QUFDTkMsY0FBVSxJQURKO0FBRU5DLGVBQVcsbUJBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQUUsYUFBT0EsSUFBSUMsR0FBWDtBQUFnQjtBQUZyQztBQUZQLENBUmUsQ0FBbEI7O0FBZ0JBZixVQUFVZ0IsT0FBVixHQUFvQjtBQUNsQkMsTUFEa0IsZ0JBQ1pDLElBRFksRUFDTjtBQUNWLFFBQU1ELE9BQU87QUFDWDtBQUNBRSxVQUFJLEtBQUtBLEVBRkU7QUFHWGpCLFlBQU0sS0FBS0EsSUFIQTtBQUlYa0IsaUJBQVcsS0FBS0EsU0FKTDtBQUtYQyxpQkFBVyxLQUFLQTtBQUxMLEtBQWI7O0FBUUEsV0FBT0gsa0NBQ0ZELElBREUsSUFHSEEsSUFISjtBQUlEO0FBZGlCLENBQXBCOztBQWlCQSxJQUFNSyxRQUFRQyxtQkFBU0QsS0FBVCxDQUFlLEtBQWYsRUFBc0J0QixTQUF0QixDQUFkOztBQUVPLElBQU13QiwwQkFBU0YsTUFBTUUsTUFBckI7a0JBQ1FGLEsiLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hIH0gZnJvbSAnbW9uZ29vc2UnXG5cbmNvbnN0IHRhZ1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBuYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLCBcbiAgICB1bmlxdWU6IHRydWUsIFxuICAgIHRyaW06IHRydWUsXG4gICAgaW5kZXg6IHRydWUsXG4gIH1cbn0sIHtcbiAgdGltZXN0YW1wczogdHJ1ZSxcbiAgdG9KU09OOiB7XG4gICAgdmlydHVhbHM6IHRydWUsXG4gICAgdHJhbnNmb3JtOiAob2JqLCByZXQpID0+IHsgZGVsZXRlIHJldC5faWQgfVxuICB9XG59KVxuXG50YWdTY2hlbWEubWV0aG9kcyA9IHtcbiAgdmlldyAoZnVsbCkge1xuICAgIGNvbnN0IHZpZXcgPSB7XG4gICAgICAvLyBzaW1wbGUgdmlld1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBjcmVhdGVkQXQ6IHRoaXMuY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZEF0OiB0aGlzLnVwZGF0ZWRBdFxuICAgIH1cblxuICAgIHJldHVybiBmdWxsID8ge1xuICAgICAgLi4udmlld1xuICAgICAgLy8gYWRkIHByb3BlcnRpZXMgZm9yIGEgZnVsbCB2aWV3XG4gICAgfSA6IHZpZXdcbiAgfVxufVxuXG5jb25zdCBtb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdUYWcnLCB0YWdTY2hlbWEpXG5cbmV4cG9ydCBjb25zdCBzY2hlbWEgPSBtb2RlbC5zY2hlbWFcbmV4cG9ydCBkZWZhdWx0IG1vZGVsXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///35\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.destroy = exports.update = exports.show = exports.index = exports.create = undefined;\n\nvar _assign = __webpack_require__(5);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _response = __webpack_require__(6);\n\nvar _ = __webpack_require__(9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar create = exports.create = function create(_ref, res, next) {\n  var body = _ref.bodymen.body;\n  return _.Tag.create(body).then(function (tag) {\n    return tag.view(true);\n  }).then((0, _response.success)(res, 201)).catch(next);\n};\n\nvar index = exports.index = function index(_ref2, res, next) {\n  var _ref2$querymen = _ref2.querymen,\n      query = _ref2$querymen.query,\n      select = _ref2$querymen.select,\n      cursor = _ref2$querymen.cursor;\n  return _.Tag.count(query).then(function (count) {\n    return _.Tag.find(query, select, cursor).then(function (tags) {\n      return {\n        count: count,\n        rows: tags.map(function (tag) {\n          return tag.view();\n        })\n      };\n    });\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar show = exports.show = function show(_ref3, res, next) {\n  var params = _ref3.params;\n  return _.Tag.findById(params.id).then((0, _response.notFound)(res)).then(function (tag) {\n    return tag ? tag.view() : null;\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar update = exports.update = function update(_ref4, res, next) {\n  var body = _ref4.bodymen.body,\n      params = _ref4.params;\n  return _.Tag.findById(params.id).then((0, _response.notFound)(res)).then(function (tag) {\n    return tag ? (0, _assign2.default)(tag, body).save() : null;\n  }).then(function (tag) {\n    return tag ? tag.view(true) : null;\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar destroy = exports.destroy = function destroy(_ref5, res, next) {\n  var params = _ref5.params;\n  return _.Tag.findById(params.id).then((0, _response.notFound)(res)).then(function (tag) {\n    return tag ? tag.remove() : null;\n  }).then((0, _response.success)(res, 204)).catch(next);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3RhZy9jb250cm9sbGVyLmpzP2MwNTkiXSwibmFtZXMiOlsiY3JlYXRlIiwicmVzIiwibmV4dCIsImJvZHkiLCJib2R5bWVuIiwiVGFnIiwidGhlbiIsInRhZyIsInZpZXciLCJjYXRjaCIsImluZGV4IiwicXVlcnltZW4iLCJxdWVyeSIsInNlbGVjdCIsImN1cnNvciIsImNvdW50IiwiZmluZCIsInRhZ3MiLCJyb3dzIiwibWFwIiwic2hvdyIsInBhcmFtcyIsImZpbmRCeUlkIiwiaWQiLCJ1cGRhdGUiLCJzYXZlIiwiZGVzdHJveSIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVPLElBQU1BLDBCQUFTLFNBQVRBLE1BQVMsT0FBd0JDLEdBQXhCLEVBQTZCQyxJQUE3QjtBQUFBLE1BQWNDLElBQWQsUUFBR0MsT0FBSCxDQUFjRCxJQUFkO0FBQUEsU0FDcEJFLE1BQUlMLE1BQUosQ0FBV0csSUFBWCxFQUNHRyxJQURILENBQ1EsVUFBQ0MsR0FBRDtBQUFBLFdBQVNBLElBQUlDLElBQUosQ0FBUyxJQUFULENBQVQ7QUFBQSxHQURSLEVBRUdGLElBRkgsQ0FFUSx1QkFBUUwsR0FBUixFQUFhLEdBQWIsQ0FGUixFQUdHUSxLQUhILENBR1NQLElBSFQsQ0FEb0I7QUFBQSxDQUFmOztBQU1BLElBQU1RLHdCQUFRLFNBQVJBLEtBQVEsUUFBMENULEdBQTFDLEVBQStDQyxJQUEvQztBQUFBLDZCQUFHUyxRQUFIO0FBQUEsTUFBZUMsS0FBZixrQkFBZUEsS0FBZjtBQUFBLE1BQXNCQyxNQUF0QixrQkFBc0JBLE1BQXRCO0FBQUEsTUFBOEJDLE1BQTlCLGtCQUE4QkEsTUFBOUI7QUFBQSxTQUNuQlQsTUFBSVUsS0FBSixDQUFVSCxLQUFWLEVBQ0dOLElBREgsQ0FDUTtBQUFBLFdBQVNELE1BQUlXLElBQUosQ0FBU0osS0FBVCxFQUFnQkMsTUFBaEIsRUFBd0JDLE1BQXhCLEVBQ1pSLElBRFksQ0FDUCxVQUFDVyxJQUFEO0FBQUEsYUFBVztBQUNmRixvQkFEZTtBQUVmRyxjQUFNRCxLQUFLRSxHQUFMLENBQVMsVUFBQ1osR0FBRDtBQUFBLGlCQUFTQSxJQUFJQyxJQUFKLEVBQVQ7QUFBQSxTQUFUO0FBRlMsT0FBWDtBQUFBLEtBRE8sQ0FBVDtBQUFBLEdBRFIsRUFPR0YsSUFQSCxDQU9RLHVCQUFRTCxHQUFSLENBUFIsRUFRR1EsS0FSSCxDQVFTUCxJQVJULENBRG1CO0FBQUEsQ0FBZDs7QUFXQSxJQUFNa0Isc0JBQU8sU0FBUEEsSUFBTyxRQUFhbkIsR0FBYixFQUFrQkMsSUFBbEI7QUFBQSxNQUFHbUIsTUFBSCxTQUFHQSxNQUFIO0FBQUEsU0FDbEJoQixNQUFJaUIsUUFBSixDQUFhRCxPQUFPRSxFQUFwQixFQUNHakIsSUFESCxDQUNRLHdCQUFTTCxHQUFULENBRFIsRUFFR0ssSUFGSCxDQUVRLFVBQUNDLEdBQUQ7QUFBQSxXQUFTQSxNQUFNQSxJQUFJQyxJQUFKLEVBQU4sR0FBbUIsSUFBNUI7QUFBQSxHQUZSLEVBR0dGLElBSEgsQ0FHUSx1QkFBUUwsR0FBUixDQUhSLEVBSUdRLEtBSkgsQ0FJU1AsSUFKVCxDQURrQjtBQUFBLENBQWI7O0FBT0EsSUFBTXNCLDBCQUFTLFNBQVRBLE1BQVMsUUFBZ0N2QixHQUFoQyxFQUFxQ0MsSUFBckM7QUFBQSxNQUFjQyxJQUFkLFNBQUdDLE9BQUgsQ0FBY0QsSUFBZDtBQUFBLE1BQXNCa0IsTUFBdEIsU0FBc0JBLE1BQXRCO0FBQUEsU0FDcEJoQixNQUFJaUIsUUFBSixDQUFhRCxPQUFPRSxFQUFwQixFQUNHakIsSUFESCxDQUNRLHdCQUFTTCxHQUFULENBRFIsRUFFR0ssSUFGSCxDQUVRLFVBQUNDLEdBQUQ7QUFBQSxXQUFTQSxNQUFNLHNCQUFjQSxHQUFkLEVBQW1CSixJQUFuQixFQUF5QnNCLElBQXpCLEVBQU4sR0FBd0MsSUFBakQ7QUFBQSxHQUZSLEVBR0duQixJQUhILENBR1EsVUFBQ0MsR0FBRDtBQUFBLFdBQVNBLE1BQU1BLElBQUlDLElBQUosQ0FBUyxJQUFULENBQU4sR0FBdUIsSUFBaEM7QUFBQSxHQUhSLEVBSUdGLElBSkgsQ0FJUSx1QkFBUUwsR0FBUixDQUpSLEVBS0dRLEtBTEgsQ0FLU1AsSUFMVCxDQURvQjtBQUFBLENBQWY7O0FBUUEsSUFBTXdCLDRCQUFVLFNBQVZBLE9BQVUsUUFBYXpCLEdBQWIsRUFBa0JDLElBQWxCO0FBQUEsTUFBR21CLE1BQUgsU0FBR0EsTUFBSDtBQUFBLFNBQ3JCaEIsTUFBSWlCLFFBQUosQ0FBYUQsT0FBT0UsRUFBcEIsRUFDR2pCLElBREgsQ0FDUSx3QkFBU0wsR0FBVCxDQURSLEVBRUdLLElBRkgsQ0FFUSxVQUFDQyxHQUFEO0FBQUEsV0FBU0EsTUFBTUEsSUFBSW9CLE1BQUosRUFBTixHQUFxQixJQUE5QjtBQUFBLEdBRlIsRUFHR3JCLElBSEgsQ0FHUSx1QkFBUUwsR0FBUixFQUFhLEdBQWIsQ0FIUixFQUlHUSxLQUpILENBSVNQLElBSlQsQ0FEcUI7QUFBQSxDQUFoQiIsImZpbGUiOiIzNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1Y2Nlc3MsIG5vdEZvdW5kIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvcmVzcG9uc2UvJ1xuaW1wb3J0IHsgVGFnIH0gZnJvbSAnLidcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9ICh7IGJvZHltZW46IHsgYm9keSB9IH0sIHJlcywgbmV4dCkgPT5cbiAgVGFnLmNyZWF0ZShib2R5KVxuICAgIC50aGVuKCh0YWcpID0+IHRhZy52aWV3KHRydWUpKVxuICAgIC50aGVuKHN1Y2Nlc3MocmVzLCAyMDEpKVxuICAgIC5jYXRjaChuZXh0KVxuXG5leHBvcnQgY29uc3QgaW5kZXggPSAoeyBxdWVyeW1lbjogeyBxdWVyeSwgc2VsZWN0LCBjdXJzb3IgfSB9LCByZXMsIG5leHQpID0+XG4gIFRhZy5jb3VudChxdWVyeSlcbiAgICAudGhlbihjb3VudCA9PiBUYWcuZmluZChxdWVyeSwgc2VsZWN0LCBjdXJzb3IpXG4gICAgICAudGhlbigodGFncykgPT4gKHtcbiAgICAgICAgY291bnQsXG4gICAgICAgIHJvd3M6IHRhZ3MubWFwKCh0YWcpID0+IHRhZy52aWV3KCkpXG4gICAgICB9KSlcbiAgICApXG4gICAgLnRoZW4oc3VjY2VzcyhyZXMpKVxuICAgIC5jYXRjaChuZXh0KVxuXG5leHBvcnQgY29uc3Qgc2hvdyA9ICh7IHBhcmFtcyB9LCByZXMsIG5leHQpID0+XG4gIFRhZy5maW5kQnlJZChwYXJhbXMuaWQpXG4gICAgLnRoZW4obm90Rm91bmQocmVzKSlcbiAgICAudGhlbigodGFnKSA9PiB0YWcgPyB0YWcudmlldygpIDogbnVsbClcbiAgICAudGhlbihzdWNjZXNzKHJlcykpXG4gICAgLmNhdGNoKG5leHQpXG5cbmV4cG9ydCBjb25zdCB1cGRhdGUgPSAoeyBib2R5bWVuOiB7IGJvZHkgfSwgcGFyYW1zIH0sIHJlcywgbmV4dCkgPT5cbiAgVGFnLmZpbmRCeUlkKHBhcmFtcy5pZClcbiAgICAudGhlbihub3RGb3VuZChyZXMpKVxuICAgIC50aGVuKCh0YWcpID0+IHRhZyA/IE9iamVjdC5hc3NpZ24odGFnLCBib2R5KS5zYXZlKCkgOiBudWxsKVxuICAgIC50aGVuKCh0YWcpID0+IHRhZyA/IHRhZy52aWV3KHRydWUpIDogbnVsbClcbiAgICAudGhlbihzdWNjZXNzKHJlcykpXG4gICAgLmNhdGNoKG5leHQpXG5cbmV4cG9ydCBjb25zdCBkZXN0cm95ID0gKHsgcGFyYW1zIH0sIHJlcywgbmV4dCkgPT5cbiAgVGFnLmZpbmRCeUlkKHBhcmFtcy5pZClcbiAgICAudGhlbihub3RGb3VuZChyZXMpKVxuICAgIC50aGVuKCh0YWcpID0+IHRhZyA/IHRhZy5yZW1vdmUoKSA6IG51bGwpXG4gICAgLnRoZW4oc3VjY2VzcyhyZXMsIDIwNCkpXG4gICAgLmNhdGNoKG5leHQpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///36\n')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.destroy = exports.update = exports.show = exports.index = exports.create = undefined;\n\nvar _assign = __webpack_require__(5);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _response = __webpack_require__(6);\n\nvar _ = __webpack_require__(10);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar create = exports.create = function create(_ref, res, next) {\n  var body = _ref.bodymen.body;\n  return _.Article.create(body).then(function (article) {\n    return article.view(true);\n  }).then((0, _response.success)(res, 201)).catch(next);\n};\n\nvar index = exports.index = function index(_ref2, res, next) {\n  var _ref2$querymen = _ref2.querymen,\n      query = _ref2$querymen.query,\n      select = _ref2$querymen.select,\n      cursor = _ref2$querymen.cursor;\n  return _.Article.count(query).then(function (count) {\n    return _.Article.find(query, select, cursor).populate({ path: \'category\', select: "id name" }).populate({ path: \'tags\', select: "id name" }).then(function (articles) {\n      return {\n        count: count,\n        rows: articles.map(function (article) {\n          return article.view();\n        })\n      };\n    });\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar show = exports.show = function show(_ref3, res, next) {\n  var params = _ref3.params;\n  return _.Article.findById(params.id).populate({ path: \'tags\', select: "id name" }).populate({ path: \'category\', select: "id name" }).then((0, _response.notFound)(res)).then(function (article) {\n    return article ? article.view(true) : null;\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar update = exports.update = function update(_ref4, res, next) {\n  var body = _ref4.bodymen.body,\n      params = _ref4.params;\n  return _.Article.findById(params.id).then((0, _response.notFound)(res)).then(function (article) {\n    return article ? (0, _assign2.default)(article, body).save() : null;\n  }).then(function (article) {\n    return article ? article.view(true) : null;\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar destroy = exports.destroy = function destroy(_ref5, res, next) {\n  var params = _ref5.params;\n  return _.Article.findById(params.id).then((0, _response.notFound)(res)).then(function (article) {\n    return article ? article.remove() : null;\n  }).then((0, _response.success)(res, 204)).catch(next);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2FydGljbGUvY29udHJvbGxlci5qcz8zNmE2Il0sIm5hbWVzIjpbImNyZWF0ZSIsInJlcyIsIm5leHQiLCJib2R5IiwiYm9keW1lbiIsIkFydGljbGUiLCJ0aGVuIiwiYXJ0aWNsZSIsInZpZXciLCJjYXRjaCIsImluZGV4IiwicXVlcnltZW4iLCJxdWVyeSIsInNlbGVjdCIsImN1cnNvciIsImNvdW50IiwiZmluZCIsInBvcHVsYXRlIiwicGF0aCIsImFydGljbGVzIiwicm93cyIsIm1hcCIsInNob3ciLCJwYXJhbXMiLCJmaW5kQnlJZCIsImlkIiwidXBkYXRlIiwic2F2ZSIsImRlc3Ryb3kiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFTyxJQUFNQSwwQkFBUyxTQUFUQSxNQUFTLE9BQXdCQyxHQUF4QixFQUE2QkMsSUFBN0I7QUFBQSxNQUFjQyxJQUFkLFFBQUdDLE9BQUgsQ0FBY0QsSUFBZDtBQUFBLFNBQ3BCRSxVQUFRTCxNQUFSLENBQWVHLElBQWYsRUFDR0csSUFESCxDQUNRLFVBQUNDLE9BQUQ7QUFBQSxXQUFhQSxRQUFRQyxJQUFSLENBQWEsSUFBYixDQUFiO0FBQUEsR0FEUixFQUVHRixJQUZILENBRVEsdUJBQVFMLEdBQVIsRUFBYSxHQUFiLENBRlIsRUFHR1EsS0FISCxDQUdTUCxJQUhULENBRG9CO0FBQUEsQ0FBZjs7QUFNQSxJQUFNUSx3QkFBUSxTQUFSQSxLQUFRLFFBQTBDVCxHQUExQyxFQUErQ0MsSUFBL0M7QUFBQSw2QkFBR1MsUUFBSDtBQUFBLE1BQWVDLEtBQWYsa0JBQWVBLEtBQWY7QUFBQSxNQUFzQkMsTUFBdEIsa0JBQXNCQSxNQUF0QjtBQUFBLE1BQThCQyxNQUE5QixrQkFBOEJBLE1BQTlCO0FBQUEsU0FDbkJULFVBQVFVLEtBQVIsQ0FBY0gsS0FBZCxFQUNHTixJQURILENBQ1E7QUFBQSxXQUFTRCxVQUFRVyxJQUFSLENBQWFKLEtBQWIsRUFBb0JDLE1BQXBCLEVBQTRCQyxNQUE1QixFQUNaRyxRQURZLENBQ0gsRUFBQ0MsTUFBSyxVQUFOLEVBQWtCTCxRQUFRLFNBQTFCLEVBREcsRUFFWkksUUFGWSxDQUVILEVBQUNDLE1BQUssTUFBTixFQUFjTCxRQUFRLFNBQXRCLEVBRkcsRUFHWlAsSUFIWSxDQUdQLFVBQUNhLFFBQUQ7QUFBQSxhQUFlO0FBQ25CSixvQkFEbUI7QUFFbkJLLGNBQU1ELFNBQVNFLEdBQVQsQ0FBYSxVQUFDZCxPQUFEO0FBQUEsaUJBQWFBLFFBQVFDLElBQVIsRUFBYjtBQUFBLFNBQWI7QUFGYSxPQUFmO0FBQUEsS0FITyxDQUFUO0FBQUEsR0FEUixFQVNHRixJQVRILENBU1EsdUJBQVFMLEdBQVIsQ0FUUixFQVVHUSxLQVZILENBVVNQLElBVlQsQ0FEbUI7QUFBQSxDQUFkOztBQWFBLElBQU1vQixzQkFBTyxTQUFQQSxJQUFPLFFBQWFyQixHQUFiLEVBQWtCQyxJQUFsQjtBQUFBLE1BQUdxQixNQUFILFNBQUdBLE1BQUg7QUFBQSxTQUNsQmxCLFVBQVFtQixRQUFSLENBQWlCRCxPQUFPRSxFQUF4QixFQUNHUixRQURILENBQ1ksRUFBQ0MsTUFBSyxNQUFOLEVBQWNMLFFBQVEsU0FBdEIsRUFEWixFQUVHSSxRQUZILENBRVksRUFBQ0MsTUFBSyxVQUFOLEVBQWtCTCxRQUFRLFNBQTFCLEVBRlosRUFHR1AsSUFISCxDQUdRLHdCQUFTTCxHQUFULENBSFIsRUFJR0ssSUFKSCxDQUlRLFVBQUNDLE9BQUQ7QUFBQSxXQUFhQSxVQUFVQSxRQUFRQyxJQUFSLENBQWEsSUFBYixDQUFWLEdBQStCLElBQTVDO0FBQUEsR0FKUixFQUtHRixJQUxILENBS1EsdUJBQVFMLEdBQVIsQ0FMUixFQU1HUSxLQU5ILENBTVNQLElBTlQsQ0FEa0I7QUFBQSxDQUFiOztBQVNBLElBQU13QiwwQkFBUyxTQUFUQSxNQUFTLFFBQWdDekIsR0FBaEMsRUFBcUNDLElBQXJDO0FBQUEsTUFBY0MsSUFBZCxTQUFHQyxPQUFILENBQWNELElBQWQ7QUFBQSxNQUFzQm9CLE1BQXRCLFNBQXNCQSxNQUF0QjtBQUFBLFNBQ3BCbEIsVUFBUW1CLFFBQVIsQ0FBaUJELE9BQU9FLEVBQXhCLEVBQ0duQixJQURILENBQ1Esd0JBQVNMLEdBQVQsQ0FEUixFQUVHSyxJQUZILENBRVEsVUFBQ0MsT0FBRDtBQUFBLFdBQWFBLFVBQVUsc0JBQWNBLE9BQWQsRUFBdUJKLElBQXZCLEVBQTZCd0IsSUFBN0IsRUFBVixHQUFnRCxJQUE3RDtBQUFBLEdBRlIsRUFHR3JCLElBSEgsQ0FHUSxVQUFDQyxPQUFEO0FBQUEsV0FBYUEsVUFBVUEsUUFBUUMsSUFBUixDQUFhLElBQWIsQ0FBVixHQUErQixJQUE1QztBQUFBLEdBSFIsRUFJR0YsSUFKSCxDQUlRLHVCQUFRTCxHQUFSLENBSlIsRUFLR1EsS0FMSCxDQUtTUCxJQUxULENBRG9CO0FBQUEsQ0FBZjs7QUFRQSxJQUFNMEIsNEJBQVUsU0FBVkEsT0FBVSxRQUFhM0IsR0FBYixFQUFrQkMsSUFBbEI7QUFBQSxNQUFHcUIsTUFBSCxTQUFHQSxNQUFIO0FBQUEsU0FDckJsQixVQUFRbUIsUUFBUixDQUFpQkQsT0FBT0UsRUFBeEIsRUFDR25CLElBREgsQ0FDUSx3QkFBU0wsR0FBVCxDQURSLEVBRUdLLElBRkgsQ0FFUSxVQUFDQyxPQUFEO0FBQUEsV0FBYUEsVUFBVUEsUUFBUXNCLE1BQVIsRUFBVixHQUE2QixJQUExQztBQUFBLEdBRlIsRUFHR3ZCLElBSEgsQ0FHUSx1QkFBUUwsR0FBUixFQUFhLEdBQWIsQ0FIUixFQUlHUSxLQUpILENBSVNQLElBSlQsQ0FEcUI7QUFBQSxDQUFoQiIsImZpbGUiOiIzNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1Y2Nlc3MsIG5vdEZvdW5kIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvcmVzcG9uc2UvJ1xuaW1wb3J0IHsgQXJ0aWNsZSB9IGZyb20gJy4nXG5cbmV4cG9ydCBjb25zdCBjcmVhdGUgPSAoeyBib2R5bWVuOiB7IGJvZHkgfSB9LCByZXMsIG5leHQpID0+XG4gIEFydGljbGUuY3JlYXRlKGJvZHkpXG4gICAgLnRoZW4oKGFydGljbGUpID0+IGFydGljbGUudmlldyh0cnVlKSlcbiAgICAudGhlbihzdWNjZXNzKHJlcywgMjAxKSlcbiAgICAuY2F0Y2gobmV4dClcblxuZXhwb3J0IGNvbnN0IGluZGV4ID0gKHsgcXVlcnltZW46IHsgcXVlcnksIHNlbGVjdCwgY3Vyc29yIH0gfSwgcmVzLCBuZXh0KSA9PlxuICBBcnRpY2xlLmNvdW50KHF1ZXJ5KVxuICAgIC50aGVuKGNvdW50ID0+IEFydGljbGUuZmluZChxdWVyeSwgc2VsZWN0LCBjdXJzb3IpXG4gICAgICAucG9wdWxhdGUoe3BhdGg6J2NhdGVnb3J5Jywgc2VsZWN0OiBcImlkIG5hbWVcIiB9KSAgIFxuICAgICAgLnBvcHVsYXRlKHtwYXRoOid0YWdzJywgc2VsZWN0OiBcImlkIG5hbWVcIiB9KVxuICAgICAgLnRoZW4oKGFydGljbGVzKSA9PiAoe1xuICAgICAgICBjb3VudCxcbiAgICAgICAgcm93czogYXJ0aWNsZXMubWFwKChhcnRpY2xlKSA9PiBhcnRpY2xlLnZpZXcoKSlcbiAgICAgIH0pKVxuICAgIClcbiAgICAudGhlbihzdWNjZXNzKHJlcykpXG4gICAgLmNhdGNoKG5leHQpXG5cbmV4cG9ydCBjb25zdCBzaG93ID0gKHsgcGFyYW1zIH0sIHJlcywgbmV4dCkgPT5cbiAgQXJ0aWNsZS5maW5kQnlJZChwYXJhbXMuaWQpXG4gICAgLnBvcHVsYXRlKHtwYXRoOid0YWdzJywgc2VsZWN0OiBcImlkIG5hbWVcIiB9KVxuICAgIC5wb3B1bGF0ZSh7cGF0aDonY2F0ZWdvcnknLCBzZWxlY3Q6IFwiaWQgbmFtZVwiIH0pXG4gICAgLnRoZW4obm90Rm91bmQocmVzKSlcbiAgICAudGhlbigoYXJ0aWNsZSkgPT4gYXJ0aWNsZSA/IGFydGljbGUudmlldyh0cnVlKSA6IG51bGwpXG4gICAgLnRoZW4oc3VjY2VzcyhyZXMpKVxuICAgIC5jYXRjaChuZXh0KVxuXG5leHBvcnQgY29uc3QgdXBkYXRlID0gKHsgYm9keW1lbjogeyBib2R5IH0sIHBhcmFtcyB9LCByZXMsIG5leHQpID0+XG4gIEFydGljbGUuZmluZEJ5SWQocGFyYW1zLmlkKVxuICAgIC50aGVuKG5vdEZvdW5kKHJlcykpXG4gICAgLnRoZW4oKGFydGljbGUpID0+IGFydGljbGUgPyBPYmplY3QuYXNzaWduKGFydGljbGUsIGJvZHkpLnNhdmUoKSA6IG51bGwpXG4gICAgLnRoZW4oKGFydGljbGUpID0+IGFydGljbGUgPyBhcnRpY2xlLnZpZXcodHJ1ZSkgOiBudWxsKVxuICAgIC50aGVuKHN1Y2Nlc3MocmVzKSlcbiAgICAuY2F0Y2gobmV4dClcblxuZXhwb3J0IGNvbnN0IGRlc3Ryb3kgPSAoeyBwYXJhbXMgfSwgcmVzLCBuZXh0KSA9PlxuICBBcnRpY2xlLmZpbmRCeUlkKHBhcmFtcy5pZClcbiAgICAudGhlbihub3RGb3VuZChyZXMpKVxuICAgIC50aGVuKChhcnRpY2xlKSA9PiBhcnRpY2xlID8gYXJ0aWNsZS5yZW1vdmUoKSA6IG51bGwpXG4gICAgLnRoZW4oc3VjY2VzcyhyZXMsIDIwNCkpXG4gICAgLmNhdGNoKG5leHQpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///37\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.schema = undefined;\n\nvar _extends2 = __webpack_require__(4);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _mongoose = __webpack_require__(1);\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commentSchema = new _mongoose.Schema({\n  name: {\n    type: String\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  content: {\n    type: String,\n    trim: true,\n    required: true\n  },\n  article: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'Article',\n    required: true\n  }\n}, {\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: function transform(obj, ret) {\n      delete ret._id;\n    }\n  }\n});\n\ncommentSchema.methods = {\n  view: function view(full) {\n    var view = {\n      // simple view\n      id: this.id,\n      name: this.name,\n      email: this.email,\n      content: this.content,\n      article: this.article,\n      createdAt: this.createdAt,\n      updatedAt: this.updatedAt\n    };\n\n    return full ? (0, _extends3.default)({}, view) : view;\n  }\n};\n\nvar model = _mongoose2.default.model('Comment', commentSchema);\n\nvar schema = exports.schema = model.schema;\nexports.default = model;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2NvbW1lbnQvbW9kZWwuanM/NzY3NCJdLCJuYW1lcyI6WyJjb21tZW50U2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJlbWFpbCIsInJlcXVpcmVkIiwiY29udGVudCIsInRyaW0iLCJhcnRpY2xlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInRpbWVzdGFtcHMiLCJ0b0pTT04iLCJ2aXJ0dWFscyIsInRyYW5zZm9ybSIsIm9iaiIsInJldCIsIl9pZCIsIm1ldGhvZHMiLCJ2aWV3IiwiZnVsbCIsImlkIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwibW9kZWwiLCJtb25nb29zZSIsInNjaGVtYSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0FBRUEsSUFBTUEsZ0JBQWdCLElBQUlDLGdCQUFKLENBQVc7QUFDL0JDLFFBQU07QUFDSkMsVUFBTUM7QUFERixHQUR5QjtBQUkvQkMsU0FBTztBQUNMRixVQUFNQyxNQUREO0FBRUxFLGNBQVU7QUFGTCxHQUp3QjtBQVEvQkMsV0FBUztBQUNQSixVQUFNQyxNQURDO0FBRVBJLFVBQU0sSUFGQztBQUdQRixjQUFVO0FBSEgsR0FSc0I7QUFhL0JHLFdBQVM7QUFDUE4sVUFBTUYsaUJBQU9TLEtBQVAsQ0FBYUMsUUFEWjtBQUVQQyxTQUFLLFNBRkU7QUFHUE4sY0FBVTtBQUhIO0FBYnNCLENBQVgsRUFrQm5CO0FBQ0RPLGNBQVksSUFEWDtBQUVEQyxVQUFRO0FBQ05DLGNBQVUsSUFESjtBQUVOQyxlQUFXLG1CQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUFFLGFBQU9BLElBQUlDLEdBQVg7QUFBZ0I7QUFGckM7QUFGUCxDQWxCbUIsQ0FBdEI7O0FBMEJBbkIsY0FBY29CLE9BQWQsR0FBd0I7QUFDdEJDLE1BRHNCLGdCQUNoQkMsSUFEZ0IsRUFDVjtBQUNWLFFBQU1ELE9BQU87QUFDWDtBQUNBRSxVQUFJLEtBQUtBLEVBRkU7QUFHWHJCLFlBQU0sS0FBS0EsSUFIQTtBQUlYRyxhQUFPLEtBQUtBLEtBSkQ7QUFLWEUsZUFBUyxLQUFLQSxPQUxIO0FBTVhFLGVBQVMsS0FBS0EsT0FOSDtBQU9YZSxpQkFBVyxLQUFLQSxTQVBMO0FBUVhDLGlCQUFXLEtBQUtBO0FBUkwsS0FBYjs7QUFXQSxXQUFPSCxrQ0FDRkQsSUFERSxJQUdIQSxJQUhKO0FBSUQ7QUFqQnFCLENBQXhCOztBQW9CQSxJQUFNSyxRQUFRQyxtQkFBU0QsS0FBVCxDQUFlLFNBQWYsRUFBMEIxQixhQUExQixDQUFkOztBQUVPLElBQU00QiwwQkFBU0YsTUFBTUUsTUFBckI7a0JBQ1FGLEsiLCJmaWxlIjoiMzguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hIH0gZnJvbSAnbW9uZ29vc2UnXG5cbmNvbnN0IGNvbW1lbnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgbmFtZToge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9LFxuICBjb250ZW50OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHRyaW06IHRydWUsXG4gICAgcmVxdWlyZWQ6IHRydWVcbiAgfSxcbiAgYXJ0aWNsZToge1xuICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICByZWY6ICdBcnRpY2xlJyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9XG59LCB7XG4gIHRpbWVzdGFtcHM6IHRydWUsXG4gIHRvSlNPTjoge1xuICAgIHZpcnR1YWxzOiB0cnVlLFxuICAgIHRyYW5zZm9ybTogKG9iaiwgcmV0KSA9PiB7IGRlbGV0ZSByZXQuX2lkIH1cbiAgfVxufSlcblxuY29tbWVudFNjaGVtYS5tZXRob2RzID0ge1xuICB2aWV3IChmdWxsKSB7XG4gICAgY29uc3QgdmlldyA9IHtcbiAgICAgIC8vIHNpbXBsZSB2aWV3XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLFxuICAgICAgY29udGVudDogdGhpcy5jb250ZW50LFxuICAgICAgYXJ0aWNsZTogdGhpcy5hcnRpY2xlLFxuICAgICAgY3JlYXRlZEF0OiB0aGlzLmNyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRBdDogdGhpcy51cGRhdGVkQXRcbiAgICB9XG5cbiAgICByZXR1cm4gZnVsbCA/IHtcbiAgICAgIC4uLnZpZXdcbiAgICAgIC8vIGFkZCBwcm9wZXJ0aWVzIGZvciBhIGZ1bGwgdmlld1xuICAgIH0gOiB2aWV3XG4gIH1cbn1cblxuY29uc3QgbW9kZWwgPSBtb25nb29zZS5tb2RlbCgnQ29tbWVudCcsIGNvbW1lbnRTY2hlbWEpXG5cbmV4cG9ydCBjb25zdCBzY2hlbWEgPSBtb2RlbC5zY2hlbWFcbmV4cG9ydCBkZWZhdWx0IG1vZGVsXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///38\n")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.destroy = exports.update = exports.show = exports.index = exports.create = undefined;\n\nvar _assign = __webpack_require__(5);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _response = __webpack_require__(6);\n\nvar _ = __webpack_require__(11);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar create = exports.create = function create(_ref, res, next) {\n  var body = _ref.bodymen.body;\n  return _.Comment.create(body).then(function (comment) {\n    return comment.view(true);\n  }).then((0, _response.success)(res, 201)).catch(next);\n};\n\nvar index = exports.index = function index(_ref2, res, next) {\n  var _ref2$querymen = _ref2.querymen,\n      query = _ref2$querymen.query,\n      select = _ref2$querymen.select,\n      cursor = _ref2$querymen.cursor;\n  return _.Comment.count(query).then(function (count) {\n    return _.Comment.find(query, select, cursor).then(function (comments) {\n      return {\n        count: count,\n        rows: comments.map(function (comment) {\n          return comment.view();\n        })\n      };\n    });\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar show = exports.show = function show(_ref3, res, next) {\n  var params = _ref3.params;\n  return _.Comment.findById(params.id).then((0, _response.notFound)(res)).then(function (comment) {\n    return comment ? comment.view() : null;\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar update = exports.update = function update(_ref4, res, next) {\n  var body = _ref4.bodymen.body,\n      params = _ref4.params;\n  return _.Comment.findById(params.id).then((0, _response.notFound)(res)).then(function (comment) {\n    return comment ? (0, _assign2.default)(comment, body).save() : null;\n  }).then(function (comment) {\n    return comment ? comment.view(true) : null;\n  }).then((0, _response.success)(res)).catch(next);\n};\n\nvar destroy = exports.destroy = function destroy(_ref5, res, next) {\n  var params = _ref5.params;\n  return _.Comment.findById(params.id).then((0, _response.notFound)(res)).then(function (comment) {\n    return comment ? comment.remove() : null;\n  }).then((0, _response.success)(res, 204)).catch(next);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2NvbW1lbnQvY29udHJvbGxlci5qcz8zZDA2Il0sIm5hbWVzIjpbImNyZWF0ZSIsInJlcyIsIm5leHQiLCJib2R5IiwiYm9keW1lbiIsIkNvbW1lbnQiLCJ0aGVuIiwiY29tbWVudCIsInZpZXciLCJjYXRjaCIsImluZGV4IiwicXVlcnltZW4iLCJxdWVyeSIsInNlbGVjdCIsImN1cnNvciIsImNvdW50IiwiZmluZCIsImNvbW1lbnRzIiwicm93cyIsIm1hcCIsInNob3ciLCJwYXJhbXMiLCJmaW5kQnlJZCIsImlkIiwidXBkYXRlIiwic2F2ZSIsImRlc3Ryb3kiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFTyxJQUFNQSwwQkFBUyxTQUFUQSxNQUFTLE9BQXdCQyxHQUF4QixFQUE2QkMsSUFBN0I7QUFBQSxNQUFjQyxJQUFkLFFBQUdDLE9BQUgsQ0FBY0QsSUFBZDtBQUFBLFNBQ3BCRSxVQUFRTCxNQUFSLENBQWVHLElBQWYsRUFDR0csSUFESCxDQUNRLFVBQUNDLE9BQUQ7QUFBQSxXQUFhQSxRQUFRQyxJQUFSLENBQWEsSUFBYixDQUFiO0FBQUEsR0FEUixFQUVHRixJQUZILENBRVEsdUJBQVFMLEdBQVIsRUFBYSxHQUFiLENBRlIsRUFHR1EsS0FISCxDQUdTUCxJQUhULENBRG9CO0FBQUEsQ0FBZjs7QUFNQSxJQUFNUSx3QkFBUSxTQUFSQSxLQUFRLFFBQTBDVCxHQUExQyxFQUErQ0MsSUFBL0M7QUFBQSw2QkFBR1MsUUFBSDtBQUFBLE1BQWVDLEtBQWYsa0JBQWVBLEtBQWY7QUFBQSxNQUFzQkMsTUFBdEIsa0JBQXNCQSxNQUF0QjtBQUFBLE1BQThCQyxNQUE5QixrQkFBOEJBLE1BQTlCO0FBQUEsU0FDbkJULFVBQVFVLEtBQVIsQ0FBY0gsS0FBZCxFQUNHTixJQURILENBQ1E7QUFBQSxXQUFTRCxVQUFRVyxJQUFSLENBQWFKLEtBQWIsRUFBb0JDLE1BQXBCLEVBQTRCQyxNQUE1QixFQUNaUixJQURZLENBQ1AsVUFBQ1csUUFBRDtBQUFBLGFBQWU7QUFDbkJGLG9CQURtQjtBQUVuQkcsY0FBTUQsU0FBU0UsR0FBVCxDQUFhLFVBQUNaLE9BQUQ7QUFBQSxpQkFBYUEsUUFBUUMsSUFBUixFQUFiO0FBQUEsU0FBYjtBQUZhLE9BQWY7QUFBQSxLQURPLENBQVQ7QUFBQSxHQURSLEVBT0dGLElBUEgsQ0FPUSx1QkFBUUwsR0FBUixDQVBSLEVBUUdRLEtBUkgsQ0FRU1AsSUFSVCxDQURtQjtBQUFBLENBQWQ7O0FBV0EsSUFBTWtCLHNCQUFPLFNBQVBBLElBQU8sUUFBYW5CLEdBQWIsRUFBa0JDLElBQWxCO0FBQUEsTUFBR21CLE1BQUgsU0FBR0EsTUFBSDtBQUFBLFNBQ2xCaEIsVUFBUWlCLFFBQVIsQ0FBaUJELE9BQU9FLEVBQXhCLEVBQ0dqQixJQURILENBQ1Esd0JBQVNMLEdBQVQsQ0FEUixFQUVHSyxJQUZILENBRVEsVUFBQ0MsT0FBRDtBQUFBLFdBQWFBLFVBQVVBLFFBQVFDLElBQVIsRUFBVixHQUEyQixJQUF4QztBQUFBLEdBRlIsRUFHR0YsSUFISCxDQUdRLHVCQUFRTCxHQUFSLENBSFIsRUFJR1EsS0FKSCxDQUlTUCxJQUpULENBRGtCO0FBQUEsQ0FBYjs7QUFPQSxJQUFNc0IsMEJBQVMsU0FBVEEsTUFBUyxRQUFnQ3ZCLEdBQWhDLEVBQXFDQyxJQUFyQztBQUFBLE1BQWNDLElBQWQsU0FBR0MsT0FBSCxDQUFjRCxJQUFkO0FBQUEsTUFBc0JrQixNQUF0QixTQUFzQkEsTUFBdEI7QUFBQSxTQUNwQmhCLFVBQVFpQixRQUFSLENBQWlCRCxPQUFPRSxFQUF4QixFQUNHakIsSUFESCxDQUNRLHdCQUFTTCxHQUFULENBRFIsRUFFR0ssSUFGSCxDQUVRLFVBQUNDLE9BQUQ7QUFBQSxXQUFhQSxVQUFVLHNCQUFjQSxPQUFkLEVBQXVCSixJQUF2QixFQUE2QnNCLElBQTdCLEVBQVYsR0FBZ0QsSUFBN0Q7QUFBQSxHQUZSLEVBR0duQixJQUhILENBR1EsVUFBQ0MsT0FBRDtBQUFBLFdBQWFBLFVBQVVBLFFBQVFDLElBQVIsQ0FBYSxJQUFiLENBQVYsR0FBK0IsSUFBNUM7QUFBQSxHQUhSLEVBSUdGLElBSkgsQ0FJUSx1QkFBUUwsR0FBUixDQUpSLEVBS0dRLEtBTEgsQ0FLU1AsSUFMVCxDQURvQjtBQUFBLENBQWY7O0FBUUEsSUFBTXdCLDRCQUFVLFNBQVZBLE9BQVUsUUFBYXpCLEdBQWIsRUFBa0JDLElBQWxCO0FBQUEsTUFBR21CLE1BQUgsU0FBR0EsTUFBSDtBQUFBLFNBQ3JCaEIsVUFBUWlCLFFBQVIsQ0FBaUJELE9BQU9FLEVBQXhCLEVBQ0dqQixJQURILENBQ1Esd0JBQVNMLEdBQVQsQ0FEUixFQUVHSyxJQUZILENBRVEsVUFBQ0MsT0FBRDtBQUFBLFdBQWFBLFVBQVVBLFFBQVFvQixNQUFSLEVBQVYsR0FBNkIsSUFBMUM7QUFBQSxHQUZSLEVBR0dyQixJQUhILENBR1EsdUJBQVFMLEdBQVIsRUFBYSxHQUFiLENBSFIsRUFJR1EsS0FKSCxDQUlTUCxJQUpULENBRHFCO0FBQUEsQ0FBaEIiLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdWNjZXNzLCBub3RGb3VuZCB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3Jlc3BvbnNlLydcbmltcG9ydCB7IENvbW1lbnQgfSBmcm9tICcuJ1xuXG5leHBvcnQgY29uc3QgY3JlYXRlID0gKHsgYm9keW1lbjogeyBib2R5IH0gfSwgcmVzLCBuZXh0KSA9PlxuICBDb21tZW50LmNyZWF0ZShib2R5KVxuICAgIC50aGVuKChjb21tZW50KSA9PiBjb21tZW50LnZpZXcodHJ1ZSkpXG4gICAgLnRoZW4oc3VjY2VzcyhyZXMsIDIwMSkpXG4gICAgLmNhdGNoKG5leHQpXG5cbmV4cG9ydCBjb25zdCBpbmRleCA9ICh7IHF1ZXJ5bWVuOiB7IHF1ZXJ5LCBzZWxlY3QsIGN1cnNvciB9IH0sIHJlcywgbmV4dCkgPT5cbiAgQ29tbWVudC5jb3VudChxdWVyeSlcbiAgICAudGhlbihjb3VudCA9PiBDb21tZW50LmZpbmQocXVlcnksIHNlbGVjdCwgY3Vyc29yKVxuICAgICAgLnRoZW4oKGNvbW1lbnRzKSA9PiAoe1xuICAgICAgICBjb3VudCxcbiAgICAgICAgcm93czogY29tbWVudHMubWFwKChjb21tZW50KSA9PiBjb21tZW50LnZpZXcoKSlcbiAgICAgIH0pKVxuICAgIClcbiAgICAudGhlbihzdWNjZXNzKHJlcykpXG4gICAgLmNhdGNoKG5leHQpXG5cbmV4cG9ydCBjb25zdCBzaG93ID0gKHsgcGFyYW1zIH0sIHJlcywgbmV4dCkgPT5cbiAgQ29tbWVudC5maW5kQnlJZChwYXJhbXMuaWQpXG4gICAgLnRoZW4obm90Rm91bmQocmVzKSlcbiAgICAudGhlbigoY29tbWVudCkgPT4gY29tbWVudCA/IGNvbW1lbnQudmlldygpIDogbnVsbClcbiAgICAudGhlbihzdWNjZXNzKHJlcykpXG4gICAgLmNhdGNoKG5leHQpXG5cbmV4cG9ydCBjb25zdCB1cGRhdGUgPSAoeyBib2R5bWVuOiB7IGJvZHkgfSwgcGFyYW1zIH0sIHJlcywgbmV4dCkgPT5cbiAgQ29tbWVudC5maW5kQnlJZChwYXJhbXMuaWQpXG4gICAgLnRoZW4obm90Rm91bmQocmVzKSlcbiAgICAudGhlbigoY29tbWVudCkgPT4gY29tbWVudCA/IE9iamVjdC5hc3NpZ24oY29tbWVudCwgYm9keSkuc2F2ZSgpIDogbnVsbClcbiAgICAudGhlbigoY29tbWVudCkgPT4gY29tbWVudCA/IGNvbW1lbnQudmlldyh0cnVlKSA6IG51bGwpXG4gICAgLnRoZW4oc3VjY2VzcyhyZXMpKVxuICAgIC5jYXRjaChuZXh0KVxuXG5leHBvcnQgY29uc3QgZGVzdHJveSA9ICh7IHBhcmFtcyB9LCByZXMsIG5leHQpID0+XG4gIENvbW1lbnQuZmluZEJ5SWQocGFyYW1zLmlkKVxuICAgIC50aGVuKG5vdEZvdW5kKHJlcykpXG4gICAgLnRoZW4oKGNvbW1lbnQpID0+IGNvbW1lbnQgPyBjb21tZW50LnJlbW92ZSgpIDogbnVsbClcbiAgICAudGhlbihzdWNjZXNzKHJlcywgMjA0KSlcbiAgICAuY2F0Y2gobmV4dClcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///39\n')}]);